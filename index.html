<style>
  @import url(https://fonts.googleapis.com/css?family=Google+Sans+Text);
  html {
    font-family: 'Google Sans Text', 'Google Sans';
    font-size: 14px;
    color-scheme: light dark;
    background: light-dark(white, black);
    color: light-dark(black, white);
  }
</style>

<script type="importmap">{"imports":{"@modelcontextprotocol/sdk/":"https://esm.sh/@modelcontextprotocol/sdk/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/client/index?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/client/index?target=es2022","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/types?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/types?target=es2022","@google/genai":"https://esm.sh/@google/genai@^1.34.0","lucide-react":"https://esm.sh/lucide-react@^0.562.0","react-dom/":"https://esm.sh/react-dom@^19.2.3/","react/":"https://esm.sh/react@^19.2.3/","react":"https://esm.sh/react@^19.2.3","@/index":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JzsKaW1wb3J0IEFwcCBmcm9tICdAL0FwcCc7CmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTsKaWYgKCFyb290RWxlbWVudCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCByb290IGVsZW1lbnQgdG8gbW91bnQgdG8iKTsKfQpjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChyb290RWxlbWVudCk7CnJvb3QucmVuZGVyKF9qc3goUmVhY3QuU3RyaWN0TW9kZSwgeyBjaGlsZHJlbjogX2pzeChBcHAsIHt9KSB9KSk7Cg==","@/types":"data:application/javascript;base64,ZXhwb3J0IHt9Owo=","@/constants":"data:application/javascript;base64,ZXhwb3J0IGNvbnN0IENPTE9SUyA9IFsKICAgIHsgbmFtZTogJ1JlZCcsIGhleDogJyNlZjQ0NDQnIH0sCiAgICB7IG5hbWU6ICdPcmFuZ2UnLCBoZXg6ICcjZjk3MzE2JyB9LAogICAgeyBuYW1lOiAnQW1iZXInLCBoZXg6ICcjZjU5ZTBiJyB9LAogICAgeyBuYW1lOiAnR3JlZW4nLCBoZXg6ICcjMjJjNTVlJyB9LAogICAgeyBuYW1lOiAnQmx1ZScsIGhleDogJyMzYjgyZjYnIH0sCiAgICB7IG5hbWU6ICdJbmRpZ28nLCBoZXg6ICcjNjM2NmYxJyB9LAogICAgeyBuYW1lOiAnVmlvbGV0JywgaGV4OiAnIzhiNWNmNicgfSwKICAgIHsgbmFtZTogJ1BpbmsnLCBoZXg6ICcjZWM0ODk5JyB9LAogICAgeyBuYW1lOiAnUm9zZScsIGhleDogJyNmNDNmNWUnIH0sCl07CmV4cG9ydCBjb25zdCBWT0lDRVMgPSBbCiAgICB7IG5hbWU6ICdQdWNrJywgZ2VuZGVyOiAnTWFsZScsIGFjY2VudDogJ0FtZXJpY2FuJywgc3R5bGU6ICdFbmVyZ2V0aWMsIFN0YW5kYXJkJywgdm9pY2VOYW1lOiAnUHVjaycgfSwKICAgIHsgbmFtZTogJ0tvcmUnLCBnZW5kZXI6ICdGZW1hbGUnLCBhY2NlbnQ6ICdBbWVyaWNhbicsIHN0eWxlOiAnQ2FsbSwgRWR1Y2F0aW9uYWwnLCB2b2ljZU5hbWU6ICdLb3JlJyB9LAogICAgeyBuYW1lOiAnRmVucmlyJywgZ2VuZGVyOiAnTWFsZScsIGFjY2VudDogJ0FtZXJpY2FuJywgc3R5bGU6ICdEZWVwLCBQcm9mZXNzaW9uYWwnLCB2b2ljZU5hbWU6ICdGZW5yaXInIH0sCiAgICB7IG5hbWU6ICdDaGFyb24nLCBnZW5kZXI6ICdNYWxlJywgYWNjZW50OiAnQW1lcmljYW4nLCBzdHlsZTogJ0F1dGhvcml0YXRpdmUsIERlZXAnLCB2b2ljZU5hbWU6ICdDaGFyb24nIH0sCiAgICB7IG5hbWU6ICdaZXBoeXInLCBnZW5kZXI6ICdGZW1hbGUnLCBhY2NlbnQ6ICdBbWVyaWNhbicsIHN0eWxlOiAnRnJpZW5kbHksIEFjY2Vzc2libGUnLCB2b2ljZU5hbWU6ICdaZXBoeXInIH0sCl07CmV4cG9ydCBjb25zdCBJTklUSUFMX1NDUklQVF9QTEFDRUhPTERFUiA9IGBJIHdhbnQgdG8gbWFrZSBhIHZpZGVvIGFib3V0IGhvdyB0byBzdGFydCBhIHZlZ2V0YWJsZSBnYXJkZW4gZm9yIGJlZ2lubmVycy4gCkNvdmVyIHRoZSBiYXNpY3MgbGlrZSBzb2lsLCBzdW5saWdodCwgYW5kIHdhdGVyaW5nLiAKTWVudGlvbiB0aGF0IG1pc3Rha2VzIGFyZSBva2F5LiAKVGVsbCB0aGVtIHRvIHN1YnNjcmliZSBmb3IgbW9yZSBnYXJkZW5pbmcgdGlwcy5gOwpleHBvcnQgY29uc3QgU1RPQ0tfVEVNUExBVEVTID0gWwogICAgeyBuYW1lOiAnTW9kZXJuIERhcmsnLCBjb2xvcnM6IFsnIzE4MTgxYicsICcjMjcyNzJhJ10gfSwKICAgIHsgbmFtZTogJ1ZpYnJhbnQgU3Vuc2V0JywgY29sb3JzOiBbJyNmOTczMTYnLCAnI2RiMjc3NyddIH0sCiAgICB7IG5hbWU6ICdDb29sIE9jZWFuJywgY29sb3JzOiBbJyMwNmI2ZDQnLCAnIzNiODJmNiddIH0sCiAgICB7IG5hbWU6ICdGcmVzaCBOYXR1cmUnLCBjb2xvcnM6IFsnIzIyYzU1ZScsICcjMTU4MDNkJ10gfSwKICAgIHsgbmFtZTogJ0RlZXAgUHVycGxlJywgY29sb3JzOiBbJyM0YzFkOTUnLCAnIzFlMWI0YiddIH0sCiAgICB7IG5hbWU6ICdDbGFzc2ljIEdvbGQnLCBjb2xvcnM6IFsnI2ZiYmYyNCcsICcjYjQ1MzA5J10gfSwKXTsK","@/services/geminiService":"data:application/javascript;base64,aW1wb3J0IHsgR29vZ2xlR2VuQUksIFR5cGUsIE1vZGFsaXR5IH0gZnJvbSAiQGdvb2dsZS9nZW5haSI7CmNvbnN0IGdldENsaWVudCA9ICgpID0+IG5ldyBHb29nbGVHZW5BSSh7IGFwaUtleTogcHJvY2Vzcy5lbnYuQVBJX0tFWSB9KTsKLy8gSGVscGVyIGZvciByYXRlIGxpbWl0aW5nICYgcmV0cmllcwpjb25zdCB3YWl0ID0gKG1zKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTsKYXN5bmMgZnVuY3Rpb24gcmV0cnlSZXF1ZXN0KGZuLCByZXRyaWVzID0gMywgZGVsYXkgPSAyMDAwKSB7CiAgICB0cnkgewogICAgICAgIHJldHVybiBhd2FpdCBmbigpOwogICAgfQogICAgY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgaWYgKHJldHJpZXMgPiAwICYmIChlcnJvcj8uY29kZSA9PT0gNDI5IHx8IGVycm9yPy5zdGF0dXMgPT09IDQyOSB8fCBlcnJvcj8ubWVzc2FnZT8uaW5jbHVkZXMoJzQyOScpIHx8IGVycm9yPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdxdW90YScpIHx8IGVycm9yPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdleGhhdXN0ZWQnKSkpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKGBSYXRlIGxpbWl0IGhpdC4gUmV0cnlpbmcgaW4gJHtkZWxheX1tcy4uLmApOwogICAgICAgICAgICBhd2FpdCB3YWl0KGRlbGF5KTsKICAgICAgICAgICAgcmV0dXJuIHJldHJ5UmVxdWVzdChmbiwgcmV0cmllcyAtIDEsIGRlbGF5ICogMik7CiAgICAgICAgfQogICAgICAgIHRocm93IGVycm9yOwogICAgfQp9Ci8qKgogKiBQb2xpc2hlcyB0aGUgc2NyaXB0IGFuZCBnZW5lcmF0ZXMgbWV0YWRhdGEKICovCmV4cG9ydCBjb25zdCBwb2xpc2hTY3JpcHQgPSBhc3luYyAocmF3VGV4dCwgbmljaGUpID0+IHsKICAgIHJldHVybiByZXRyeVJlcXVlc3QoYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IGFpID0gZ2V0Q2xpZW50KCk7CiAgICAgICAgY29uc3QgcHJvbXB0ID0gYAogICAgICBZb3UgYXJlIGEgcHJvZmVzc2lvbmFsIFlvdVR1YmUgc2NyaXB0d3JpdGVyLiAKICAgICAgVHJhbnNmb3JtIHRoZSBmb2xsb3dpbmcgcmF3IG5vdGVzIGludG8gYSBoaWdobHkgZW5nYWdpbmcsIHZpcmFsLW9wdGltaXplZCBZb3VUdWJlIHNjcmlwdCBmb3IgdGhlICIke25pY2hlfSIgbmljaGUuCiAgICAgIAogICAgICBSYXcgTm90ZXM6ICIke3Jhd1RleHR9IgogICAgICAKICAgICAgUmVxdWlyZW1lbnRzOgogICAgICAxLiBDcmVhdGUgYSAiSG9vayIgKGZpcnN0IDEwIHNlY29uZHMpIHRoYXQgaXMgYXR0ZW50aW9uLWdyYWJiaW5nLgogICAgICAyLiBXcml0ZSBhIHN0cnVjdHVyZWQgIkJvZHkiIHRoYXQgZGVsaXZlcnMgdmFsdWUuCiAgICAgIDMuIEluY2x1ZGUgMyBjbGVhciBDYWxsLXRvLUFjdGlvbnMgKENUQXMpIHBsYWNlZCBzdHJhdGVnaWNhbGx5LgogICAgICA0LiBHZW5lcmF0ZSA1IHZpcmFsIHZpZGVvIHRpdGxlcy4KICAgICAgNS4gR2VuZXJhdGUgNSB2aXJhbCB0aHVtYm5haWwgdGV4dCBvdmVybGF5cyAoc2hvcnQsIHB1bmNoeSkuCiAgICAgIDYuIFdyaXRlIGEgdmlkZW8gZGVzY3JpcHRpb24gd2l0aCBhIHBsYWNlaG9sZGVyIGZvciB0aW1lc3RhbXBzLgogICAgICA3LiBXcml0ZSBhIHBpbm5lZCBjb21tZW50IGFza2luZyBhIHF1ZXN0aW9uLgogICAgICA4LiBMaXN0IDE1IGNvbW1hLXNlcGFyYXRlZCBoYXNodGFncy9rZXl3b3Jkcy4KICAgIGA7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHsKICAgICAgICAgICAgbW9kZWw6ICJnZW1pbmktMy1mbGFzaC1wcmV2aWV3IiwKICAgICAgICAgICAgY29udGVudHM6IHByb21wdCwKICAgICAgICAgICAgY29uZmlnOiB7CiAgICAgICAgICAgICAgICByZXNwb25zZU1pbWVUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICByZXNwb25zZVNjaGVtYTogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuT0JKRUNULAogICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9saXNoZWQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuT0JKRUNULAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvb2s6IHsgdHlwZTogVHlwZS5TVFJJTkcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiB7IHR5cGU6IFR5cGUuU1RSSU5HIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RhczogeyB0eXBlOiBUeXBlLkFSUkFZLCBpdGVtczogeyB0eXBlOiBUeXBlLlNUUklORyB9IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuT0JKRUNULAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlczogeyB0eXBlOiBUeXBlLkFSUkFZLCBpdGVtczogeyB0eXBlOiBUeXBlLlNUUklORyB9IH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsczogeyB0eXBlOiBUeXBlLkFSUkFZLCBpdGVtczogeyB0eXBlOiBUeXBlLlNUUklORyB9IH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHsgdHlwZTogVHlwZS5TVFJJTkcgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW5uZWRDb21tZW50OiB7IHR5cGU6IFR5cGUuU1RSSU5HIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnczogeyB0eXBlOiBUeXBlLkFSUkFZLCBpdGVtczogeyB0eXBlOiBUeXBlLlNUUklORyB9IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS50ZXh0KSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnRleHQpOwogICAgICAgICAgICByZXR1cm4geyAuLi5kYXRhLCBvcmlnaW5hbDogcmF3VGV4dCB9OwogICAgICAgIH0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBzY3JpcHQiKTsKICAgIH0pOwp9OwovKioKICogQnJlYWtzIHRoZSBzY3JpcHQgZG93biBpbnRvIHNjZW5lcyAoU2xpZGVzKQogKi8KZXhwb3J0IGNvbnN0IGdlbmVyYXRlU3Rvcnlib2FyZCA9IGFzeW5jIChzY3JpcHREYXRhKSA9PiB7CiAgICByZXR1cm4gcmV0cnlSZXF1ZXN0KGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCBhaSA9IGdldENsaWVudCgpOwogICAgICAgIGNvbnN0IGZ1bGxTY3JpcHQgPSBgJHtzY3JpcHREYXRhLnBvbGlzaGVkLmhvb2t9XG5cbiR7c2NyaXB0RGF0YS5wb2xpc2hlZC5ib2R5fVxuXG4ke3NjcmlwdERhdGEucG9saXNoZWQuY3Rhcy5qb2luKCcgJyl9YDsKICAgICAgICBjb25zdCBwcm9tcHQgPSBgCiAgICAgIEJyZWFrIHRoZSBmb2xsb3dpbmcgWW91VHViZSBzY3JpcHQgaW50byB2aXN1YWwgc2NlbmVzIGZvciBhIHNsaWRlLWRlY2sgc3R5bGUgdmlkZW8uCiAgICAgIEZvciBlYWNoIHNjZW5lLCBkZWNpZGUgaWYgaXQgc2hvdWxkIGJlIEEtUk9MTCAodGV4dC9idWxsZXQgcG9pbnRzIG9uIHNjcmVlbikgb3IgQi1ST0xMIChhIGZ1bGwgc2NyZWVuIGlsbHVzdHJhdGl2ZSBpbWFnZSkuCiAgICAgIAogICAgICBTY3JpcHQ6CiAgICAgICR7ZnVsbFNjcmlwdH0KICAgICAgCiAgICAgIFJldHVybiBhIEpTT04gYXJyYXkgb2Ygc2NlbmVzLgogICAgICAtICdzcG9rZW5UZXh0JzogVGhlIGV4YWN0IHdvcmRzIHNwb2tlbiBpbiB0aGlzIHNlZ21lbnQuCiAgICAgIC0gJ3Zpc3VhbFN1bW1hcnknOiBBcnJheSBvZiBzaG9ydCBidWxsZXQgcG9pbnRzIChtYXggMykgZm9yIEEtUm9sbCBzbGlkZXMuCiAgICAgIC0gJ2ltYWdlUHJvbXB0JzogQSBkZXRhaWxlZCBkZXNjcmlwdGlvbiB0byBnZW5lcmF0ZSBhbiBpbWFnZSBmb3IgQi1Sb2xsIChvciBiYWNrZ3JvdW5kIGZvciBBLVJvbGwpLgogICAgICAtICd0eXBlJzogIkEtUk9MTCIgb3IgIkItUk9MTCIKICAgIGA7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHsKICAgICAgICAgICAgbW9kZWw6ICJnZW1pbmktMy1mbGFzaC1wcmV2aWV3IiwKICAgICAgICAgICAgY29udGVudHM6IHByb21wdCwKICAgICAgICAgICAgY29uZmlnOiB7CiAgICAgICAgICAgICAgICByZXNwb25zZU1pbWVUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICByZXNwb25zZVNjaGVtYTogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IFR5cGUuQVJSQVksCiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVHlwZS5PQkpFQ1QsCiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB7IHR5cGU6IFR5cGUuU1RSSU5HIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB7IHR5cGU6IFR5cGUuU1RSSU5HLCBlbnVtOiBbIkEtUk9MTCIsICJCLVJPTEwiXSB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bva2VuVGV4dDogeyB0eXBlOiBUeXBlLlNUUklORyB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzdWFsU3VtbWFyeTogeyB0eXBlOiBUeXBlLkFSUkFZLCBpdGVtczogeyB0eXBlOiBUeXBlLlNUUklORyB9IH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVByb21wdDogeyB0eXBlOiBUeXBlLlNUUklORyB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAocmVzcG9uc2UudGV4dCkgewogICAgICAgICAgICBjb25zdCBzY2VuZXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnRleHQpOwogICAgICAgICAgICByZXR1cm4gc2NlbmVzLm1hcCgocywgaWR4KSA9PiAoeyAuLi5zLCBpZDogYHNjZW5lLSR7aWR4fS0ke0RhdGUubm93KCl9YCB9KSk7CiAgICAgICAgfQogICAgICAgIHRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIHN0b3J5Ym9hcmQiKTsKICAgIH0pOwp9OwovKioKICogR2VuZXJhdGVzIGFuIGltYWdlIGZvciBhIHNsaWRlCiAqLwpleHBvcnQgY29uc3QgZ2VuZXJhdGVJbWFnZSA9IGFzeW5jIChwcm9tcHQpID0+IHsKICAgIHJldHVybiByZXRyeVJlcXVlc3QoYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IGFpID0gZ2V0Q2xpZW50KCk7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHsKICAgICAgICAgICAgbW9kZWw6ICdnZW1pbmktMi41LWZsYXNoLWltYWdlJywKICAgICAgICAgICAgY29udGVudHM6IHsKICAgICAgICAgICAgICAgIHBhcnRzOiBbeyB0ZXh0OiBwcm9tcHQgfV0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29uZmlnOiB7CiAgICAgICAgICAgIC8vIGltYWdlQ29uZmlnIG5vdCBzdHJpY3RseSBuZWVkZWQgZm9yIDIuNS1mbGFzaC1pbWFnZSBkZWZhdWx0cyBidXQgZ29vZCBwcmFjdGljZSBpZiB1cGdyYWRpbmcKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGZvciAoY29uc3QgcGFydCBvZiByZXNwb25zZS5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzIHx8IFtdKSB7CiAgICAgICAgICAgIGlmIChwYXJ0LmlubGluZURhdGEgJiYgcGFydC5pbmxpbmVEYXRhLmRhdGEpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgZGF0YToke3BhcnQuaW5saW5lRGF0YS5taW1lVHlwZX07YmFzZTY0LCR7cGFydC5pbmxpbmVEYXRhLmRhdGF9YDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIk5vIGltYWdlIGdlbmVyYXRlZCIpOwogICAgfSk7Cn07Ci8qKgogKiBHZW5lcmF0ZXMgYXVkaW8gZm9yIGEgc2xpZGUKICovCmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNwZWVjaCA9IGFzeW5jICh0ZXh0LCB2b2ljZU5hbWUpID0+IHsKICAgIHJldHVybiByZXRyeVJlcXVlc3QoYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IGFpID0gZ2V0Q2xpZW50KCk7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhaS5tb2RlbHMuZ2VuZXJhdGVDb250ZW50KHsKICAgICAgICAgICAgbW9kZWw6ICJnZW1pbmktMi41LWZsYXNoLXByZXZpZXctdHRzIiwKICAgICAgICAgICAgY29udGVudHM6IHsKICAgICAgICAgICAgICAgIHBhcnRzOiBbeyB0ZXh0OiB0ZXh0IH1dCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbmZpZzogewogICAgICAgICAgICAgICAgcmVzcG9uc2VNb2RhbGl0aWVzOiBbTW9kYWxpdHkuQVVESU9dLAogICAgICAgICAgICAgICAgc3BlZWNoQ29uZmlnOiB7CiAgICAgICAgICAgICAgICAgICAgdm9pY2VDb25maWc6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJlYnVpbHRWb2ljZUNvbmZpZzogeyB2b2ljZU5hbWU6IHZvaWNlTmFtZSB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHJlc3BvbnNlLmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHMgfHwgW10pIHsKICAgICAgICAgICAgaWYgKHBhcnQuaW5saW5lRGF0YSAmJiBwYXJ0LmlubGluZURhdGEuZGF0YSkgewogICAgICAgICAgICAgICAgLy8gVXNpbmcgYXVkaW8vbXBlZyBpcyBtb3JlIHVuaXZlcnNhbGx5IHN1cHBvcnRlZCBmb3IgTVAzIGNvbnRlbnQgdGhhbiBhdWRpby9tcDMKICAgICAgICAgICAgICAgIHJldHVybiBgZGF0YTphdWRpby9tcGVnO2Jhc2U2NCwke3BhcnQuaW5saW5lRGF0YS5kYXRhfWA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJObyBhdWRpbyBnZW5lcmF0ZWQiKTsKICAgIH0pOwp9Owo=","@/components/StepIndicator":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7CmNvbnN0IHN0ZXBzID0gWwogICAgeyBpZDogJ1BST0ZJTEUnLCBsYWJlbDogJ1NldHVwJyB9LAogICAgeyBpZDogJ1NDUklQVCcsIGxhYmVsOiAnU2NyaXB0JyB9LAogICAgeyBpZDogJ1NUT1JZQk9BUkQnLCBsYWJlbDogJ1N0b3J5Ym9hcmQnIH0sCiAgICB7IGlkOiAnUFJPRFVDVElPTicsIGxhYmVsOiAnQXNzZXRzJyB9LAogICAgeyBpZDogJ0VYUE9SVCcsIGxhYmVsOiAnUHJldmlldyAmIEV4cG9ydCcgfSwKXTsKZXhwb3J0IGNvbnN0IFN0ZXBJbmRpY2F0b3IgPSAoeyBjdXJyZW50U3RlcCB9KSA9PiB7CiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzdGVwcy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBjdXJyZW50U3RlcCk7CiAgICByZXR1cm4gKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAidy1mdWxsIGJnLXppbmMtOTAwIGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBweS00IHB4LTYgc3RpY2t5IHRvcC0wIHotNTAiLCBjaGlsZHJlbjogX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJtYXgtdy01eGwgbXgtYXV0byIsIGNoaWxkcmVuOiBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiIsIGNoaWxkcmVuOiBzdGVwcy5tYXAoKHN0ZXAsIGlkeCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaWR4ID09PSBjdXJyZW50SW5kZXg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb21wbGV0ZWQgPSBpZHggPCBjdXJyZW50SW5kZXg7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBmbGV4LTEgcmVsYXRpdmUiLCBjaGlsZHJlbjogW19qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBgdy04IGgtOCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyBmb250LWJvbGQgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwICR7aXNBY3RpdmUgPyAnYmctaW5kaWdvLTUwMCB0ZXh0LXdoaXRlIHNoYWRvdy1bMF8wXzE1cHhfcmdiYSg5OSwxMDIsMjQxLDAuNSldJyA6IGlzQ29tcGxldGVkID8gJ2JnLXppbmMtNzAwIHRleHQtaW5kaWdvLTMwMCcgOiAnYmctemluYy04MDAgdGV4dC16aW5jLTUwMCd9YCwgY2hpbGRyZW46IGlkeCArIDEgfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogYHRleHQteHMgbXQtMiBmb250LW1lZGl1bSAke2lzQWN0aXZlID8gJ3RleHQtaW5kaWdvLTQwMCcgOiBpc0NvbXBsZXRlZCA/ICd0ZXh0LXppbmMtNDAwJyA6ICd0ZXh0LXppbmMtNjAwJ31gLCBjaGlsZHJlbjogc3RlcC5sYWJlbCB9KSwgaWR4ICE9PSBzdGVwcy5sZW5ndGggLSAxICYmIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogYGFic29sdXRlIHRvcC00IGxlZnQtMS8yIHctZnVsbCBoLVsycHhdIC10cmFuc2xhdGUteS0xLzIgLXotMTAgJHtpc0NvbXBsZXRlZCA/ICdiZy16aW5jLTcwMCcgOiAnYmctemluYy04MDAnfWAgfSkpXSB9LCBzdGVwLmlkKSk7CiAgICAgICAgICAgICAgICB9KSB9KSB9KSB9KSk7Cn07Cg==","@/components/VideoRenderer":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tICdyZWFjdCc7CmV4cG9ydCBjb25zdCBWaWRlb1JlbmRlcmVyID0gZm9yd2FyZFJlZigoeyBzY2VuZXMsIHByb2ZpbGUsIGlzUGxheWluZywgb25FbmRlZCwgb25UaW1lVXBkYXRlIH0sIHJlZikgPT4gewogICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpOwogICAgY29uc3QgYXVkaW9SZWYgPSB1c2VSZWYobnVsbCk7CiAgICBjb25zdCBbY3VycmVudFNjZW5lSW5kZXgsIHNldEN1cnJlbnRTY2VuZUluZGV4XSA9IHVzZVN0YXRlKDApOwogICAgLy8gSW5pdGlhbGl6ZSBhdWRpbyBlbGVtZW50IG9uY2UKICAgIGlmICghYXVkaW9SZWYuY3VycmVudCkgewogICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQgPSBuZXcgQXVkaW8oKTsKICAgIH0KICAgIC8vIFJlY29yZGluZyBTdGF0ZQogICAgY29uc3QgbWVkaWFSZWNvcmRlclJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IGNodW5rc1JlZiA9IHVzZVJlZihbXSk7CiAgICBjb25zdCBhdWRpb0Rlc3RpbmF0aW9uUmVmID0gdXNlUmVmKG51bGwpOwogICAgLy8gUmVuZGVyIGxvb3AKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7CiAgICAgICAgaWYgKCFjYW52YXMpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBpZiAoIWN0eCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIC8vIFNldCBjYW52YXMgc2l6ZSAoMTY6OSAxMDgwcCBzY2FsZWQgZG93bikKICAgICAgICBjYW52YXMud2lkdGggPSAxMjgwOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSA3MjA7CiAgICAgICAgY29uc3QgcmVuZGVyID0gKCkgPT4gewogICAgICAgICAgICBjb25zdCBzY2VuZSA9IHNjZW5lc1tjdXJyZW50U2NlbmVJbmRleF07CiAgICAgICAgICAgIGlmICghc2NlbmUpCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIC8vIEJhY2tncm91bmQKICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMTgxODFiJzsgLy8gWmluYy05NTAKICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgIGlmIChzY2VuZS5pbWFnZURhdGEpIHsKICAgICAgICAgICAgICAgIC8vIERyYXcgSW1hZ2UgKENvdmVyKQogICAgICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICAgICAgICBpbWcuc3JjID0gc2NlbmUuaW1hZ2VEYXRhOwogICAgICAgICAgICAgICAgaWYgKGltZy5jb21wbGV0ZSkgewogICAgICAgICAgICAgICAgICAgIC8vIFNpbXBsZSBhc3BlY3QgcmF0aW8gZmlsbAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5tYXgoY2FudmFzLndpZHRoIC8gaW1nLndpZHRoLCBjYW52YXMuaGVpZ2h0IC8gaW1nLmhlaWdodCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IChjYW52YXMud2lkdGggLyAyKSAtIChpbWcud2lkdGggLyAyKSAqIHNjYWxlOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSAoY2FudmFzLmhlaWdodCAvIDIpIC0gKGltZy5oZWlnaHQgLyAyKSAqIHNjYWxlOwogICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCB4LCB5LCBpbWcud2lkdGggKiBzY2FsZSwgaW1nLmhlaWdodCAqIHNjYWxlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIERhcmsgT3ZlcmxheSBmb3IgdGV4dCByZWFkYWJpbGl0eSBvbiBBLVJvbGwKICAgICAgICAgICAgICAgIGlmIChzY2VuZS50eXBlID09PSAnQS1ST0xMJykgewogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjcpJzsKICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGdyYWRpZW50IGlmIG5vIGltYWdlCiAgICAgICAgICAgICAgICBjb25zdCBncmFkID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgICAgICBncmFkLmFkZENvbG9yU3RvcCgwLCBwcm9maWxlLnByaW1hcnlDb2xvciB8fCAnIzYzNjZmMScpOwogICAgICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMSwgJyMwMDAwMDAnKTsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkOwogICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gQnJhbmRpbmcKICAgICAgICAgICAgaWYgKHByb2ZpbGUubG9nbykgewogICAgICAgICAgICAgICAgY29uc3QgbG9nbyA9IG5ldyBJbWFnZSgpOwogICAgICAgICAgICAgICAgbG9nby5zcmMgPSBwcm9maWxlLmxvZ287CiAgICAgICAgICAgICAgICBpZiAobG9nby5jb21wbGV0ZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ29IID0gNjA7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9nb1cgPSAobG9nby53aWR0aCAvIGxvZ28uaGVpZ2h0KSAqIGxvZ29IOwogICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UobG9nbywgNDAsIDQwLCBsb2dvVywgbG9nb0gpOwogICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gJ2JvbGQgMjRweCBzYW5zLXNlcmlmJzsKICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC43KSc7CiAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoYEAke3Byb2ZpbGUuY2hhbm5lbE5hbWV9YCwgNDAgKyBsb2dvVyArIDE1LCA3OCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9ICdib2xkIDI0cHggc2Fucy1zZXJpZic7CiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNSknOwogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChgQCR7cHJvZmlsZS5jaGFubmVsTmFtZX1gLCA0MCwgNjApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnYm9sZCAyNHB4IHNhbnMtc2VyaWYnOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNSknOwogICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGBAJHtwcm9maWxlLmNoYW5uZWxOYW1lfWAsIDQwLCA2MCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gVGV4dCBDb250ZW50CiAgICAgICAgICAgIGlmIChzY2VuZS50eXBlID09PSAnQS1ST0xMJykgewogICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JzsKICAgICAgICAgICAgICAgIC8vIFRpdGxlL0hlYWRlciAoU3Bva2VuIHRleHQgc25pcHBldCBvciBnZW5lcmljKQogICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnYm9sZCA0OHB4IHNhbnMtc2VyaWYnOwogICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHByb2ZpbGUucHJpbWFyeUNvbG9yOwogICAgICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gInJnYmEoMCwwLDAsMC41KSI7CiAgICAgICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwOwogICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHByb2ZpbGUubmljaGUudG9VcHBlckNhc2UoKSwgMTAwLCAxODApOwogICAgICAgICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAwOwogICAgICAgICAgICAgICAgLy8gQnVsbGV0IFBvaW50cwogICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnNDBweCBzYW5zLXNlcmlmJzsKICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2ZmZmZmZic7CiAgICAgICAgICAgICAgICBsZXQgeVBvcyA9IDI4MDsKICAgICAgICAgICAgICAgIHNjZW5lLnZpc3VhbFN1bW1hcnkuZm9yRWFjaChwb2ludCA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gU2ltcGxlIHRleHQgd3JhcHBpbmcgbG9naWMgY291bGQgZ28gaGVyZSwgdHJ1bmNhdGluZyBmb3Igbm93CiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCLigKIgIiArIHBvaW50LnN1YnN0cmluZygwLCA1MCksIDEwMCwgeVBvcyk7CiAgICAgICAgICAgICAgICAgICAgeVBvcyArPSA3MDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy8gQi1Sb2xsIHNwZWNpZmljIGNhcHRpb25zIGlmIG5lZWRlZAogICAgICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnaXRhbGljIDMycHggc2Fucy1zZXJpZic7CiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZmZmZmYnOwogICAgICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gImJsYWNrIjsKICAgICAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gODsKICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBzY2VuZS52aXN1YWxTdW1tYXJ5WzBdIHx8IChzY2VuZS5zcG9rZW5UZXh0ID8gc2NlbmUuc3Bva2VuVGV4dC5zdWJzdHJpbmcoMCwgNTApICsgIi4uLiIgOiAiIik7CiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dCwgY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAtIDgwKTsKICAgICAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gMDsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgLy8gV2UgbmVlZCB0byByZWRyYXcgY29uc3RhbnRseSB0byBjYXRjaCBpbWFnZSBsb2FkaW5nIG9yIHdlIGNhbiBqdXN0IGRyYXcgb25jZSBwZXIgaW5kZXggY2hhbmdlICsgaW1hZ2UgbG9hZAogICAgICAgIC8vIEZvciBzaW1wbGljaXR5OgogICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwocmVuZGVyLCAxMDApOwogICAgICAgIHJlbmRlcigpOwogICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgIH0sIFtjdXJyZW50U2NlbmVJbmRleCwgc2NlbmVzLCBwcm9maWxlXSk7CiAgICAvLyBBdWRpbyAmIFByb2dyZXNzaW9uIExvZ2ljCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGNvbnN0IGF1ZGlvID0gYXVkaW9SZWYuY3VycmVudDsKICAgICAgICBpZiAoIWF1ZGlvKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgaGFuZGxlQXVkaW9FbmRlZCA9ICgpID0+IHsKICAgICAgICAgICAgaWYgKGN1cnJlbnRTY2VuZUluZGV4IDwgc2NlbmVzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICAgIHNldEN1cnJlbnRTY2VuZUluZGV4KHByZXYgPT4gcHJldiArIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgb25FbmRlZCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZUF1ZGlvRW5kZWQpOwogICAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgICAgIGF1ZGlvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlQXVkaW9FbmRlZCk7CiAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7CiAgICAgICAgfTsKICAgIH0sIFtjdXJyZW50U2NlbmVJbmRleCwgc2NlbmVzLCBvbkVuZGVkXSk7CiAgICAvLyBQbGF5YmFjayBUcmlnZ2VyCiAgICB1c2VFZmZlY3QoKCkgPT4gewogICAgICAgIGNvbnN0IHNjZW5lID0gc2NlbmVzW2N1cnJlbnRTY2VuZUluZGV4XTsKICAgICAgICBjb25zdCBhdWRpbyA9IGF1ZGlvUmVmLmN1cnJlbnQ7CiAgICAgICAgaWYgKGlzUGxheWluZyAmJiBzY2VuZSAmJiBzY2VuZS5hdWRpb0RhdGEgJiYgYXVkaW8pIHsKICAgICAgICAgICAgb25UaW1lVXBkYXRlKHNjZW5lLmlkKTsKICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgc3JjIGlmIGl0IGhhcyBlZmZlY3RpdmVseSBjaGFuZ2VkCiAgICAgICAgICAgIGlmIChhdWRpby5zcmMgIT09IHNjZW5lLmF1ZGlvRGF0YSkgewogICAgICAgICAgICAgICAgYXVkaW8uc3JjID0gc2NlbmUuYXVkaW9EYXRhOwogICAgICAgICAgICAgICAgYXVkaW8ubG9hZCgpOyAvLyBFeHBsaWNpdGx5IGxvYWQgdGhlIG5ldyBzb3VyY2UKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBwbGF5UHJvbWlzZSA9IGF1ZGlvLnBsYXkoKTsKICAgICAgICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHBsYXlQcm9taXNlLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgQWJvcnRFcnJvciAoaW50ZXJydXB0ZWQgYnkgcGF1c2UpIGFuZCBOb3RTdXBwb3J0ZWRFcnJvciAoc291cmNlIG5vdCBmdWxseSBsb2FkZWQgb3IgaW52YWxpZCkKICAgICAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIGF2b2lkIGNyYXNoaW5nIHRoZSBhcHAgZmxvdyBpZiBhdWRpbyBnbGl0Y2hlcwogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5uYW1lICE9PSAnQWJvcnRFcnJvcicgJiYgZXJyb3IubmFtZSAhPT0gJ05vdFN1cHBvcnRlZEVycm9yJykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJBdWRpbyBwbGF5IGZhaWxlZCIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChhdWRpbykgewogICAgICAgICAgICBhdWRpby5wYXVzZSgpOwogICAgICAgIH0KICAgIH0sIFtpc1BsYXlpbmcsIGN1cnJlbnRTY2VuZUluZGV4LCBzY2VuZXMsIG9uVGltZVVwZGF0ZV0pOwogICAgLy8gUmVjb3JkaW5nIExvZ2ljIChFeHBvc2VkIHZpYSBSZWYpCiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHsKICAgICAgICBzdGFydFJlY29yZGluZzogKCkgPT4gewogICAgICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDsKICAgICAgICAgICAgaWYgKCFjYW52YXMgfHwgIWF1ZGlvUmVmLmN1cnJlbnQpCiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIC8vIENhcHR1cmUgQ2FudmFzIFN0cmVhbQogICAgICAgICAgICBjb25zdCBjYW52YXNTdHJlYW0gPSBjYW52YXMuY2FwdHVyZVN0cmVhbSgzMCk7IC8vIDMwIEZQUwogICAgICAgICAgICAvLyBDYXB0dXJlIEF1ZGlvCiAgICAgICAgICAgIGNvbnN0IGFjdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7CiAgICAgICAgICAgIGNvbnN0IGRlc3QgPSBhY3R4LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTsKICAgICAgICAgICAgY29uc3Qgc291cmNlID0gYWN0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoYXVkaW9SZWYuY3VycmVudCk7CiAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KGRlc3QpOwogICAgICAgICAgICBzb3VyY2UuY29ubmVjdChhY3R4LmRlc3RpbmF0aW9uKTsgLy8gTGV0IHVzZXIgaGVhciBpdCB0b28KICAgICAgICAgICAgY29uc3QgbWl4ZWRUcmFja3MgPSBbCiAgICAgICAgICAgICAgICAuLi5jYW52YXNTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKSwKICAgICAgICAgICAgICAgIC4uLmRlc3Quc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkKICAgICAgICAgICAgXTsKICAgICAgICAgICAgY29uc3QgbWl4ZWRTdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0obWl4ZWRUcmFja3MpOwogICAgICAgICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQgPSBuZXcgTWVkaWFSZWNvcmRlcihtaXhlZFN0cmVhbSwgewogICAgICAgICAgICAgICAgbWltZVR5cGU6ICd2aWRlby93ZWJtO2NvZGVjcz12cDknCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQub25kYXRhYXZhaWxhYmxlID0gKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChlLmRhdGEuc2l6ZSA+IDApCiAgICAgICAgICAgICAgICAgICAgY2h1bmtzUmVmLmN1cnJlbnQucHVzaChlLmRhdGEpOwogICAgICAgICAgICB9OwogICAgICAgICAgICBjaHVua3NSZWYuY3VycmVudCA9IFtdOwogICAgICAgICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RhcnQoKTsKICAgICAgICAgICAgLy8gUmVzZXQgdG8gc3RhcnQKICAgICAgICAgICAgc2V0Q3VycmVudFNjZW5lSW5kZXgoMCk7CiAgICAgICAgfSwKICAgICAgICBzdG9wUmVjb3JkaW5nOiBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICAgICAgICAgICAgaWYgKG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudCAmJiBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RhdGUgIT09ICdpbmFjdGl2ZScpIHsKICAgICAgICAgICAgICAgICAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQub25zdG9wID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoY2h1bmtzUmVmLmN1cnJlbnQsIHsgdHlwZTogJ3ZpZGVvL3dlYm0nIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJsb2IpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEJsb2IoW10sIHsgdHlwZTogJ3ZpZGVvL3dlYm0nIH0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSkpOwogICAgcmV0dXJuIChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInJlbGF0aXZlIHctZnVsbCBhc3BlY3QtdmlkZW8gYmctYmxhY2sgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LTJ4bCBib3JkZXIgYm9yZGVyLXppbmMtODAwIiwgY2hpbGRyZW46IF9qc3goImNhbnZhcyIsIHsgcmVmOiBjYW52YXNSZWYsIGNsYXNzTmFtZTogInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvbnRhaW4iIH0pIH0pKTsKfSk7ClZpZGVvUmVuZGVyZXIuZGlzcGxheU5hbWUgPSAnVmlkZW9SZW5kZXJlcic7Cg==","@/App":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBTdGVwSW5kaWNhdG9yIH0gZnJvbSAnQC9jb21wb25lbnRzL1N0ZXBJbmRpY2F0b3InOwppbXBvcnQgeyBWaWRlb1JlbmRlcmVyIH0gZnJvbSAnQC9jb21wb25lbnRzL1ZpZGVvUmVuZGVyZXInOwppbXBvcnQgeyBwb2xpc2hTY3JpcHQsIGdlbmVyYXRlU3Rvcnlib2FyZCwgZ2VuZXJhdGVJbWFnZSwgZ2VuZXJhdGVTcGVlY2ggfSBmcm9tICdAL3NlcnZpY2VzL2dlbWluaVNlcnZpY2UnOwppbXBvcnQgeyBJTklUSUFMX1NDUklQVF9QTEFDRUhPTERFUiwgQ09MT1JTLCBWT0lDRVMsIFNUT0NLX1RFTVBMQVRFUyB9IGZyb20gJ0AvY29uc3RhbnRzJzsKaW1wb3J0IHsgUGxheSwgUGF1c2UsIERvd25sb2FkLCBXYW5kMiwgQXJyb3dSaWdodCwgTG9hZGVyMiwgTXVzaWMsIEltYWdlIGFzIEltYWdlSWNvbiwgRmlsZVRleHQsIENoZWNrQ2lyY2xlMiwgTW9uaXRvclBsYXksIE1pYywgUmVmcmVzaEN3LCBVcGxvYWQsIExheW91dFRlbXBsYXRlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsKY29uc3QgQXBwID0gKCkgPT4gewogICAgY29uc3QgW3N0ZXAsIHNldFN0ZXBdID0gdXNlU3RhdGUoJ1BST0ZJTEUnKTsKICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsKICAgIGNvbnN0IFtsb2FkaW5nTXNnLCBzZXRMb2FkaW5nTXNnXSA9IHVzZVN0YXRlKCcnKTsKICAgIC8vIFN0YXRlCiAgICBjb25zdCBbcHJvZmlsZSwgc2V0UHJvZmlsZV0gPSB1c2VTdGF0ZSh7CiAgICAgICAgY2hhbm5lbE5hbWU6ICcnLAogICAgICAgIGNyZWF0b3JOYW1lOiAnJywKICAgICAgICBuaWNoZTogJycsCiAgICAgICAgcHJpbWFyeUNvbG9yOiBDT0xPUlNbNV0uaGV4LAogICAgICAgIHNlY29uZGFyeUNvbG9yOiBDT0xPUlNbMl0uaGV4LAogICAgfSk7CiAgICBjb25zdCBbcmF3U2NyaXB0LCBzZXRSYXdTY3JpcHRdID0gdXNlU3RhdGUoSU5JVElBTF9TQ1JJUFRfUExBQ0VIT0xERVIpOwogICAgY29uc3QgW3NjcmlwdERhdGEsIHNldFNjcmlwdERhdGFdID0gdXNlU3RhdGUobnVsbCk7CiAgICBjb25zdCBbc2NlbmVzLCBzZXRTY2VuZXNdID0gdXNlU3RhdGUoW10pOwogICAgY29uc3QgW3NlbGVjdGVkVm9pY2UsIHNldFNlbGVjdGVkVm9pY2VdID0gdXNlU3RhdGUoVk9JQ0VTWzBdKTsKICAgIGNvbnN0IFt2b2ljZUdlbmRlciwgc2V0Vm9pY2VHZW5kZXJdID0gdXNlU3RhdGUoJ0FsbCcpOwogICAgLy8gUGxheWJhY2svRXhwb3J0IFN0YXRlCiAgICBjb25zdCBbaXNQbGF5aW5nLCBzZXRJc1BsYXlpbmddID0gdXNlU3RhdGUoZmFsc2UpOwogICAgY29uc3QgW2FjdGl2ZVNjZW5lSWQsIHNldEFjdGl2ZVNjZW5lSWRdID0gdXNlU3RhdGUoJycpOwogICAgY29uc3QgcmVuZGVyZXJSZWYgPSB1c2VSZWYobnVsbCk7CiAgICBjb25zdCBbZ2VuZXJhdGluZ0ltYWdlcywgc2V0R2VuZXJhdGluZ0ltYWdlc10gPSB1c2VTdGF0ZShuZXcgU2V0KCkpOwogICAgLy8gLS0tIEhBTkRMRVJTIC0tLQogICAgY29uc3QgaGFuZGxlUHJvZmlsZVN1Ym1pdCA9ICgpID0+IHsKICAgICAgICBpZiAocHJvZmlsZS5jaGFubmVsTmFtZSAmJiBwcm9maWxlLm5pY2hlKQogICAgICAgICAgICBzZXRTdGVwKCdTQ1JJUFQnKTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVMb2dvVXBsb2FkID0gKGUpID0+IHsKICAgICAgICBpZiAoZS50YXJnZXQuZmlsZXMgJiYgZS50YXJnZXQuZmlsZXNbMF0pIHsKICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChldikgPT4gewogICAgICAgICAgICAgICAgaWYgKGV2LnRhcmdldD8ucmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgc2V0UHJvZmlsZShwcmV2ID0+ICh7IC4uLnByZXYsIGxvZ286IGV2LnRhcmdldC5yZXN1bHQgfSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChlLnRhcmdldC5maWxlc1swXSk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZVNjcmlwdFBvbGlzaCA9IGFzeW5jICgpID0+IHsKICAgICAgICBzZXRMb2FkaW5nKHRydWUpOwogICAgICAgIHNldExvYWRpbmdNc2coJ0FuYWx5emluZyB5b3VyIG5vdGVzIGFuZCBjcmFmdGluZyBhIHZpcmFsIHNjcmlwdC4uLicpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwb2xpc2hTY3JpcHQocmF3U2NyaXB0LCBwcm9maWxlLm5pY2hlKTsKICAgICAgICAgICAgc2V0U2NyaXB0RGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgYWxlcnQoIkVycm9yIHBvbGlzaGluZyBzY3JpcHQuIFBsZWFzZSB0cnkgYWdhaW4uIik7CiAgICAgICAgfQogICAgICAgIGZpbmFsbHkgewogICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlTWFudWFsU2NyaXB0RW50cnkgPSAoKSA9PiB7CiAgICAgICAgc2V0U2NyaXB0RGF0YSh7CiAgICAgICAgICAgIG9yaWdpbmFsOiByYXdTY3JpcHQsCiAgICAgICAgICAgIHBvbGlzaGVkOiB7IGhvb2s6ICcnLCBib2R5OiByYXdTY3JpcHQsIGN0YXM6IFtdIH0sCiAgICAgICAgICAgIG1ldGFkYXRhOiB7IHRpdGxlczogWydNeSBOZXcgVmlkZW8nXSwgdGh1bWJuYWlsczogWydNeSBUaHVtYm5haWwnXSwgZGVzY3JpcHRpb246ICcnLCBwaW5uZWRDb21tZW50OiAnJywgdGFnczogW10gfQogICAgICAgIH0pOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlU3Rvcnlib2FyZCA9IGFzeW5jICgpID0+IHsKICAgICAgICBpZiAoIXNjcmlwdERhdGEpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBzZXRMb2FkaW5nKHRydWUpOwogICAgICAgIHNldExvYWRpbmdNc2coJ0RpcmVjdGluZyB0aGUgdmlkZW8gc2NlbmVzIChBLVJvbGwgJiBCLVJvbGwpLi4uJyk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdlbmVyYXRlU3Rvcnlib2FyZChzY3JpcHREYXRhKTsKICAgICAgICAgICAgc2V0U2NlbmVzKGRhdGEpOwogICAgICAgICAgICBzZXRTdGVwKCdTVE9SWUJPQVJEJyk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgIGFsZXJ0KCJFcnJvciBjcmVhdGluZyBzdG9yeWJvYXJkLiIpOwogICAgICAgIH0KICAgICAgICBmaW5hbGx5IHsKICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlU2NlbmVJbWFnZSA9IGFzeW5jIChzY2VuZUlkKSA9PiB7CiAgICAgICAgY29uc3Qgc2NlbmVJbmRleCA9IHNjZW5lcy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBzY2VuZUlkKTsKICAgICAgICBpZiAoc2NlbmVJbmRleCA9PT0gLTEpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBjb25zdCBzY2VuZSA9IHNjZW5lc1tzY2VuZUluZGV4XTsKICAgICAgICBzZXRHZW5lcmF0aW5nSW1hZ2VzKHByZXYgPT4gbmV3IFNldChwcmV2KS5hZGQoc2NlbmVJZCkpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGAke3NjZW5lLmltYWdlUHJvbXB0fS4gU3R5bGU6IFByb2Zlc3Npb25hbCwgSGlnaCBRdWFsaXR5LCAke3Byb2ZpbGUubmljaGV9IHRoZW1lLmA7CiAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGF3YWl0IGdlbmVyYXRlSW1hZ2UocHJvbXB0KTsKICAgICAgICAgICAgc2V0U2NlbmVzKHByZXYgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTsKICAgICAgICAgICAgICAgIHVwZGF0ZWRbc2NlbmVJbmRleF0gPSB7IC4uLnVwZGF0ZWRbc2NlbmVJbmRleF0sIGltYWdlRGF0YSB9OwogICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgICBhbGVydCgiRmFpbGVkIHRvIGdlbmVyYXRlIGltYWdlIik7CiAgICAgICAgfQogICAgICAgIGZpbmFsbHkgewogICAgICAgICAgICBzZXRHZW5lcmF0aW5nSW1hZ2VzKHByZXYgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7CiAgICAgICAgICAgICAgICBuZXh0LmRlbGV0ZShzY2VuZUlkKTsKICAgICAgICAgICAgICAgIHJldHVybiBuZXh0OwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlUmVnZW5lcmF0ZUF1ZGlvID0gYXN5bmMgKHNjZW5lSWQpID0+IHsKICAgICAgICBjb25zdCBzY2VuZUluZGV4ID0gc2NlbmVzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IHNjZW5lSWQpOwogICAgICAgIGlmIChzY2VuZUluZGV4ID09PSAtMSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGNvbnN0IHNjZW5lID0gc2NlbmVzW3NjZW5lSW5kZXhdOwogICAgICAgIHNldExvYWRpbmdNc2coYFJlZ2VuZXJhdGluZyBhdWRpbyBmb3IgU2NlbmUgJHtzY2VuZUluZGV4ICsgMX0uLi5gKTsKICAgICAgICBzZXRMb2FkaW5nKHRydWUpOyAvLyBVc2luZyBnbG9iYWwgbG9hZGVyIGZvciBzaW1wbGljaXR5LCBpZGVhbGx5IGxvY2FsCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgYXVkaW9EYXRhID0gYXdhaXQgZ2VuZXJhdGVTcGVlY2goc2NlbmUuc3Bva2VuVGV4dCwgc2VsZWN0ZWRWb2ljZS52b2ljZU5hbWUpOwogICAgICAgICAgICBzZXRTY2VuZXMocHJldiA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdOwogICAgICAgICAgICAgICAgdXBkYXRlZFtzY2VuZUluZGV4XSA9IHsgLi4udXBkYXRlZFtzY2VuZUluZGV4XSwgYXVkaW9EYXRhIH07CiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgIGFsZXJ0KCJBdWRpbyBnZW5lcmF0aW9uIGZhaWxlZCIpOwogICAgICAgIH0KICAgICAgICBmaW5hbGx5IHsKICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGhhbmRsZVVwbG9hZEF1ZGlvID0gKGUsIHNjZW5lSWQpID0+IHsKICAgICAgICBpZiAoZS50YXJnZXQuZmlsZXMgJiYgZS50YXJnZXQuZmlsZXNbMF0pIHsKICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChldikgPT4gewogICAgICAgICAgICAgICAgaWYgKGV2LnRhcmdldD8ucmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NlbmVJbmRleCA9IHNjZW5lcy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBzY2VuZUlkKTsKICAgICAgICAgICAgICAgICAgICBpZiAoc2NlbmVJbmRleCA9PT0gLTEpCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBzZXRTY2VuZXMocHJldiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbc2NlbmVJbmRleF0gPSB7IC4uLnVwZGF0ZWRbc2NlbmVJbmRleF0sIGF1ZGlvRGF0YTogZXYudGFyZ2V0LnJlc3VsdCB9OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZS50YXJnZXQuZmlsZXNbMF0pOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBoYW5kbGVVcGxvYWRJbWFnZSA9IChlLCBzY2VuZUlkKSA9PiB7CiAgICAgICAgaWYgKGUudGFyZ2V0LmZpbGVzICYmIGUudGFyZ2V0LmZpbGVzWzBdKSB7CiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXYpID0+IHsKICAgICAgICAgICAgICAgIGlmIChldi50YXJnZXQ/LnJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjZW5lSW5kZXggPSBzY2VuZXMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gc2NlbmVJZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNjZW5lSW5kZXggPT09IC0xKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgc2V0U2NlbmVzKHByZXYgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW3NjZW5lSW5kZXhdID0geyAuLi51cGRhdGVkW3NjZW5lSW5kZXhdLCBpbWFnZURhdGE6IGV2LnRhcmdldC5yZXN1bHQgfTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGUudGFyZ2V0LmZpbGVzWzBdKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlQXBwbHlUZW1wbGF0ZSA9ICh0ZW1wbGF0ZUNvbG9ycywgc2NlbmVJZCkgPT4gewogICAgICAgIGNvbnN0IHNjZW5lSW5kZXggPSBzY2VuZXMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gc2NlbmVJZCk7CiAgICAgICAgaWYgKHNjZW5lSW5kZXggPT09IC0xKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgLy8gR2VuZXJhdGUgYSBzaW1wbGUgZ3JhZGllbnQgaW1hZ2UgZGF0YQogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IDEyODA7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IDcyMDsKICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBpZiAoY3R4KSB7CiAgICAgICAgICAgIGNvbnN0IGdyYWQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoMCwgMCwgMTI4MCwgNzIwKTsKICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMCwgdGVtcGxhdGVDb2xvcnNbMF0pOwogICAgICAgICAgICBncmFkLmFkZENvbG9yU3RvcCgxLCB0ZW1wbGF0ZUNvbG9yc1sxXSB8fCB0ZW1wbGF0ZUNvbG9yc1swXSk7CiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgMTI4MCwgNzIwKTsKICAgICAgICAgICAgY29uc3QgZGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCAwLjgpOwogICAgICAgICAgICBzZXRTY2VuZXMocHJldiA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdOwogICAgICAgICAgICAgICAgdXBkYXRlZFtzY2VuZUluZGV4XSA9IHsgLi4udXBkYXRlZFtzY2VuZUluZGV4XSwgaW1hZ2VEYXRhOiBkYXRhVXJsIH07CiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IGRlbGF5ID0gKG1zKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTsKICAgIGNvbnN0IGhhbmRsZUFzc2V0UHJvZHVjdGlvbiA9IGFzeW5jICgpID0+IHsKICAgICAgICBzZXRMb2FkaW5nKHRydWUpOwogICAgICAgIHNldFN0ZXAoJ1BST0RVQ1RJT04nKTsKICAgICAgICBjb25zdCBuZXdTY2VuZXMgPSBbLi4uc2NlbmVzXTsKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyAxLiBHZW5lcmF0ZSBJbWFnZXMgKE9ubHkgaWYgbWlzc2luZykKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTY2VuZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHNldExvYWRpbmdNc2coYEdlbmVyYXRpbmcgdmlzdWFscyBmb3IgU2NlbmUgJHtpICsgMX0vJHtuZXdTY2VuZXMubGVuZ3RofS4uLmApOwogICAgICAgICAgICAgICAgaWYgKCFuZXdTY2VuZXNbaV0uaW1hZ2VEYXRhICYmIG5ld1NjZW5lc1tpXS50eXBlID09PSAnQi1ST0xMJykgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGAke25ld1NjZW5lc1tpXS5pbWFnZVByb21wdH0uIFN0eWxlOiBQcm9mZXNzaW9uYWwsIEhpZ2ggUXVhbGl0eSwgJHtwcm9maWxlLm5pY2hlfSB0aGVtZS5gOwogICAgICAgICAgICAgICAgICAgICAgICBuZXdTY2VuZXNbaV0uaW1hZ2VEYXRhID0gYXdhaXQgZ2VuZXJhdGVJbWFnZShwcm9tcHQpOwogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxheSgyNTAwKTsgLy8gV2FpdCAyLjVzIGJldHdlZW4gaW1hZ2UgZ2VucyB0byBhdm9pZCA0MjkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBTa2lwcGluZyBpbWFnZSBmb3Igc2NlbmUgJHtpfSBkdWUgdG8gZXJyb3JgLCBlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gMi4gR2VuZXJhdGUgQXVkaW8gKE9ubHkgaWYgbWlzc2luZykKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTY2VuZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHNldExvYWRpbmdNc2coYFN5bnRoZXNpemluZyB2b2ljZW92ZXIgZm9yIFNjZW5lICR7aSArIDF9LyR7bmV3U2NlbmVzLmxlbmd0aH0uLi5gKTsKICAgICAgICAgICAgICAgIGlmICghbmV3U2NlbmVzW2ldLmF1ZGlvRGF0YSkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NjZW5lc1tpXS5hdWRpb0RhdGEgPSBhd2FpdCBnZW5lcmF0ZVNwZWVjaChuZXdTY2VuZXNbaV0uc3Bva2VuVGV4dCwgc2VsZWN0ZWRWb2ljZS52b2ljZU5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxheSgxNTAwKTsgLy8gV2FpdCAxLjVzIGJldHdlZW4gYXVkaW8gZ2VucyB0byBhdm9pZCA0MjkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBTa2lwcGluZyBhdWRpbyBmb3Igc2NlbmUgJHtpfSBkdWUgdG8gZXJyb3JgLCBlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2V0U2NlbmVzKG5ld1NjZW5lcyk7CiAgICAgICAgICAgIHNldFN0ZXAoJ0VYUE9SVCcpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgICBhbGVydCgiQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIGFzc2V0IHByb2R1Y3Rpb24uIENoZWNrIGNvbnNvbGUuIik7CiAgICAgICAgfQogICAgICAgIGZpbmFsbHkgewogICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsKICAgICAgICB9CiAgICB9OwogICAgY29uc3QgaGFuZGxlRXhwb3J0TWFya2Rvd24gPSAoKSA9PiB7CiAgICAgICAgaWYgKCFzY3JpcHREYXRhKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgY29uc3QgbWQgPSBgIyAke3NjcmlwdERhdGEubWV0YWRhdGEudGl0bGVzWzBdfVxuXG5gICsKICAgICAgICAgICAgYCMjIERlc2NyaXB0aW9uXG4ke3NjcmlwdERhdGEubWV0YWRhdGEuZGVzY3JpcHRpb259XG5cbmAgKwogICAgICAgICAgICBgIyMgVGFnc1xuJHtzY3JpcHREYXRhLm1ldGFkYXRhLnRhZ3Muam9pbignLCAnKX1cblxuYCArCiAgICAgICAgICAgIGAjIyBTY3JpcHRcbioqSG9vazoqKiAke3NjcmlwdERhdGEucG9saXNoZWQuaG9va31cblxuYCArCiAgICAgICAgICAgIGAqKkJvZHk6KipcbiR7c2NyaXB0RGF0YS5wb2xpc2hlZC5ib2R5fVxuXG5gICsKICAgICAgICAgICAgYCoqQ1RBczoqKlxuJHtzY3JpcHREYXRhLnBvbGlzaGVkLmN0YXMuam9pbignXG4nKX1gOwogICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbWRdLCB7IHR5cGU6ICd0ZXh0L21hcmtkb3duJyB9KTsKICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgIGEuZG93bmxvYWQgPSBgJHtwcm9maWxlLmNoYW5uZWxOYW1lfV9zY3JpcHQubWRgOwogICAgICAgIGEuY2xpY2soKTsKICAgIH07CiAgICBjb25zdCBoYW5kbGVFeHBvcnRWaWRlbyA9IGFzeW5jICgpID0+IHsKICAgICAgICBpZiAoIXJlbmRlcmVyUmVmLmN1cnJlbnQpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBzZXRMb2FkaW5nKHRydWUpOwogICAgICAgIHNldExvYWRpbmdNc2coIlJlbmRlcmluZyBWaWRlbyAoUmVjb3JkaW5nIFBsYXliYWNrKS4uLiIpOwogICAgICAgIHJlbmRlcmVyUmVmLmN1cnJlbnQuc3RhcnRSZWNvcmRpbmcoKTsKICAgICAgICBzZXRJc1BsYXlpbmcodHJ1ZSk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlUGxheWJhY2tFbmRlZCA9IGFzeW5jICgpID0+IHsKICAgICAgICBzZXRJc1BsYXlpbmcoZmFsc2UpOwogICAgICAgIGlmIChsb2FkaW5nICYmIGxvYWRpbmdNc2cuaW5jbHVkZXMoIlJlbmRlcmluZyIpKSB7CiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZW5kZXJlclJlZi5jdXJyZW50Py5zdG9wUmVjb3JkaW5nKCk7CiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpOwogICAgICAgICAgICBpZiAoYmxvYikgewogICAgICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgICAgICAgICBhLmRvd25sb2FkID0gYCR7cHJvZmlsZS5jaGFubmVsTmFtZX1fdmlkZW8ud2VibWA7CiAgICAgICAgICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgLy8gLS0tIFJFTkRFUkVSUyAtLS0KICAgIGNvbnN0IHJlbmRlclByb2ZpbGUgPSAoKSA9PiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibWF4LXctMnhsIG14LWF1dG8gc3BhY2UteS04IGFuaW1hdGUtaW4gZmFkZS1pbiBzbGlkZS1pbi1mcm9tLWJvdHRvbS00IGR1cmF0aW9uLTUwMCIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAidGV4dC1jZW50ZXIgc3BhY2UteS0yIiwgY2hpbGRyZW46IFtfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC0zeGwgZm9udC1ib2xkIGJnLWNsaXAtdGV4dCB0ZXh0LXRyYW5zcGFyZW50IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1pbmRpZ28tNDAwIHRvLWN5YW4tNDAwIiwgY2hpbGRyZW46ICJFc3RhYmxpc2ggWW91ciBCcmFuZCIgfSksIF9qc3goInAiLCB7IGNsYXNzTmFtZTogInRleHQtemluYy00MDAiLCBjaGlsZHJlbjogIlRlbGwgdXMgYWJvdXQgeW91ciBjaGFubmVsIHRvIGN1c3RvbWl6ZSB0aGUgb3V0cHV0LiIgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC02IiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJzcGFjZS15LTIiLCBjaGlsZHJlbjogW19qc3goImxhYmVsIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0zMDAiLCBjaGlsZHJlbjogIkNoYW5uZWwgTmFtZSIgfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAidGV4dCIsIHZhbHVlOiBwcm9maWxlLmNoYW5uZWxOYW1lLCBvbkNoYW5nZTogKGUpID0+IHNldFByb2ZpbGUoeyAuLi5wcm9maWxlLCBjaGFubmVsTmFtZTogZS50YXJnZXQudmFsdWUgfSksIGNsYXNzTmFtZTogInctZnVsbCBiZy16aW5jLTkwMCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgb3V0bGluZS1ub25lIHRyYW5zaXRpb24tYWxsIiwgcGxhY2Vob2xkZXI6ICJlLmcuIFRlY2hUYWxrcyBEYWlseSIgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJzcGFjZS15LTIiLCBjaGlsZHJlbjogW19qc3goImxhYmVsIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0zMDAiLCBjaGlsZHJlbjogIkNyZWF0b3IgTmFtZSIgfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAidGV4dCIsIHZhbHVlOiBwcm9maWxlLmNyZWF0b3JOYW1lLCBvbkNoYW5nZTogKGUpID0+IHNldFByb2ZpbGUoeyAuLi5wcm9maWxlLCBjcmVhdG9yTmFtZTogZS50YXJnZXQudmFsdWUgfSksIGNsYXNzTmFtZTogInctZnVsbCBiZy16aW5jLTkwMCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMCBvdXRsaW5lLW5vbmUiLCBwbGFjZWhvbGRlcjogImUuZy4gU2FyYWggU21pdGgiIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29sLXNwYW4tZnVsbCBzcGFjZS15LTIiLCBjaGlsZHJlbjogW19qc3goImxhYmVsIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtemluYy0zMDAiLCBjaGlsZHJlbjogIkJyYW5kIExvZ28gKE9wdGlvbmFsKSIgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC00IiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctMTYgaC0xNiByb3VuZGVkLWxnIGJnLXppbmMtODAwIGJvcmRlciBib3JkZXItemluYy03MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIiwgY2hpbGRyZW46IHByb2ZpbGUubG9nbyA/IF9qc3goImltZyIsIHsgc3JjOiBwcm9maWxlLmxvZ28sIGNsYXNzTmFtZTogInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIiB9KSA6IF9qc3goSW1hZ2VJY29uLCB7IGNsYXNzTmFtZTogInctNiBoLTYgdGV4dC16aW5jLTYwMCIgfSkgfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAiZmlsZSIsIGFjY2VwdDogImltYWdlLyoiLCBvbkNoYW5nZTogaGFuZGxlTG9nb1VwbG9hZCwgY2xhc3NOYW1lOiAiZmxleC0xIGJsb2NrIHctZnVsbCB0ZXh0LXNtIHRleHQtemluYy00MDAgZmlsZTptci00IGZpbGU6cHktMiBmaWxlOnB4LTQgZmlsZTpyb3VuZGVkLWZ1bGwgZmlsZTpib3JkZXItMCBmaWxlOnRleHQtc20gZmlsZTpmb250LXNlbWlib2xkIGZpbGU6YmctaW5kaWdvLTYwMCBmaWxlOnRleHQtd2hpdGUgaG92ZXI6ZmlsZTpiZy1pbmRpZ28tNTAwIGN1cnNvci1wb2ludGVyIiB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJjb2wtc3Bhbi1mdWxsIHNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeCgibGFiZWwiLCB7IGNsYXNzTmFtZTogInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC16aW5jLTMwMCIsIGNoaWxkcmVuOiAiTmljaGUgLyBUb3BpYyIgfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAidGV4dCIsIHZhbHVlOiBwcm9maWxlLm5pY2hlLCBvbkNoYW5nZTogKGUpID0+IHNldFByb2ZpbGUoeyAuLi5wcm9maWxlLCBuaWNoZTogZS50YXJnZXQudmFsdWUgfSksIGNsYXNzTmFtZTogInctZnVsbCBiZy16aW5jLTkwMCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMCBvdXRsaW5lLW5vbmUiLCBwbGFjZWhvbGRlcjogImUuZy4gU3VzdGFpbmFibGUgR2FyZGVuaW5nLCBDcnlwdG8gTmV3cywgWW9nYSBmb3IgQmVnaW5uZXJzIiB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImNvbC1zcGFuLWZ1bGwgc3BhY2UteS0yIiwgY2hpbGRyZW46IFtfanN4KCJsYWJlbCIsIHsgY2xhc3NOYW1lOiAidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXppbmMtMzAwIiwgY2hpbGRyZW46ICJCcmFuZCBDb2xvciIgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMyBmbGV4LXdyYXAiLCBjaGlsZHJlbjogQ09MT1JTLm1hcChjID0+IChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldFByb2ZpbGUoeyAuLi5wcm9maWxlLCBwcmltYXJ5Q29sb3I6IGMuaGV4IH0pLCBjbGFzc05hbWU6IGB3LTggaC04IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBob3ZlcjpzY2FsZS0xMTAgJHtwcm9maWxlLnByaW1hcnlDb2xvciA9PT0gYy5oZXggPyAncmluZy0yIHJpbmctd2hpdGUgc2NhbGUtMTEwJyA6ICcnfWAsIHN0eWxlOiB7IGJhY2tncm91bmRDb2xvcjogYy5oZXggfSwgdGl0bGU6IGMubmFtZSB9LCBjLm5hbWUpKSkgfSldIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJwdC00IGZsZXgganVzdGlmeS1lbmQiLCBjaGlsZHJlbjogX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogaGFuZGxlUHJvZmlsZVN1Ym1pdCwgZGlzYWJsZWQ6ICFwcm9maWxlLmNoYW5uZWxOYW1lIHx8ICFwcm9maWxlLm5pY2hlLCBjbGFzc05hbWU6ICJiZy1pbmRpZ28tNjAwIGhvdmVyOmJnLWluZGlnby01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdGV4dC13aGl0ZSBweC04IHB5LTMgcm91bmRlZC1mdWxsIGZvbnQtc2VtaWJvbGQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgc2hhZG93LWxnIHNoYWRvdy1pbmRpZ28tNTAwLzIwIiwgY2hpbGRyZW46IFsiTmV4dCBTdGVwICIsIF9qc3goQXJyb3dSaWdodCwgeyBjbGFzc05hbWU6ICJ3LTQgaC00IiB9KV0gfSkgfSldIH0pKTsKICAgIGNvbnN0IHJlbmRlclNjcmlwdCA9ICgpID0+IChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1heC13LTV4bCBteC1hdXRvIHNwYWNlLXktOCBhbmltYXRlLWluIGZhZGUtaW4gZHVyYXRpb24tNTAwIiwgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImdyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgZ2FwLTggaC1mdWxsIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGdhcC00IiwgY2hpbGRyZW46IFtfanN4cygiaDMiLCB7IGNsYXNzTmFtZTogInRleHQteGwgZm9udC1zZW1pYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LWluZGlnby0zMDAiLCBjaGlsZHJlbjogW19qc3goRmlsZVRleHQsIHsgY2xhc3NOYW1lOiAidy01IGgtNSIgfSksICJSYXcgTm90ZXMgLyBJZGVhcyJdIH0pLCBfanN4KCJ0ZXh0YXJlYSIsIHsgdmFsdWU6IHJhd1NjcmlwdCwgb25DaGFuZ2U6IChlKSA9PiBzZXRSYXdTY3JpcHQoZS50YXJnZXQudmFsdWUpLCBjbGFzc05hbWU6ICJmbGV4LTEgbWluLWgtWzQwMHB4XSBiZy16aW5jLTkwMCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHJvdW5kZWQteGwgcC00IHRleHQtemluYy0zMDAgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMCBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUiIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0zIiwgY2hpbGRyZW46IFtfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVTY3JpcHRQb2xpc2gsIGRpc2FibGVkOiBsb2FkaW5nLCBjbGFzc05hbWU6ICJmbGV4LTEgYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby02MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLWluZGlnby01MDAgaG92ZXI6dG8tcHVycGxlLTUwMCB0ZXh0LXdoaXRlIHAtNCByb3VuZGVkLXhsIGZvbnQtYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMyB0cmFuc2l0aW9uLWFsbCBzaGFkb3ctbGciLCBjaGlsZHJlbjogW2xvYWRpbmcgPyBfanN4KExvYWRlcjIsIHsgY2xhc3NOYW1lOiAiYW5pbWF0ZS1zcGluIiB9KSA6IF9qc3goV2FuZDIsIHsgY2xhc3NOYW1lOiAidy01IGgtNSIgfSksIGxvYWRpbmcgPyAiUG9saXNoaW5nLi4uIiA6ICJQb2xpc2ggU2NyaXB0IHdpdGggQUkiXSB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVNYW51YWxTY3JpcHRFbnRyeSwgY2xhc3NOYW1lOiAicHgtNCBweS00IGJnLXppbmMtODAwIGhvdmVyOmJnLXppbmMtNzAwIHJvdW5kZWQteGwgZm9udC1ib2xkIHRleHQtemluYy0zMDAgdHJhbnNpdGlvbi1jb2xvcnMiLCB0aXRsZTogIk1hbnVhbGx5IGVudGVyIHNjcmlwdCBkZXRhaWxzIiwgY2hpbGRyZW46ICJNYW51YWwiIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgZ2FwLTQiLCBjaGlsZHJlbjogW19qc3hzKCJoMyIsIHsgY2xhc3NOYW1lOiAidGV4dC14bCBmb250LXNlbWlib2xkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtZW1lcmFsZC00MDAiLCBjaGlsZHJlbjogW19qc3goQ2hlY2tDaXJjbGUyLCB7IGNsYXNzTmFtZTogInctNSBoLTUiIH0pLCAiUG9saXNoZWQgUmVzdWx0IChFZGl0YWJsZSkiXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4LTEgYmctemluYy04MDAvNTAgYm9yZGVyIGJvcmRlci16aW5jLTcwMCByb3VuZGVkLXhsIHAtNiBvdmVyZmxvdy15LWF1dG8gbWF4LWgtWzYwMHB4XSBjdXN0b20tc2Nyb2xsYmFyIiwgY2hpbGRyZW46ICFzY3JpcHREYXRhID8gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImgtZnVsbCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXppbmMtNTAwIHNwYWNlLXktNCIsIGNoaWxkcmVuOiBbX2pzeChXYW5kMiwgeyBjbGFzc05hbWU6ICJ3LTEyIGgtMTIgb3BhY2l0eS0yMCIgfSksIF9qc3goInAiLCB7IGNoaWxkcmVuOiAiUmVhZHkgdG8gdHJhbnNmb3JtIHlvdXIgaWRlYXMuIiB9KV0gfSkpIDogKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktNiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAicC00IGJnLXppbmMtOTAwIHJvdW5kZWQtbGcgYm9yZGVyLWwtNCBib3JkZXIteWVsbG93LTUwMCIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB1cHBlcmNhc2UgZm9udC1ib2xkIHRleHQteWVsbG93LTUwMCB0cmFja2luZy13aWRlciIsIGNoaWxkcmVuOiAiVGhlIEhvb2sgKDAtMTBzKSIgfSksIF9qc3goInRleHRhcmVhIiwgeyBjbGFzc05hbWU6ICJ3LWZ1bGwgbXQtMiBiZy10cmFuc3BhcmVudCB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIG91dGxpbmUtbm9uZSByZXNpemUtbm9uZSBoLTI0IiwgdmFsdWU6IHNjcmlwdERhdGEucG9saXNoZWQuaG9vaywgb25DaGFuZ2U6IChlKSA9PiBzZXRTY3JpcHREYXRhKHsgLi4uc2NyaXB0RGF0YSwgcG9saXNoZWQ6IHsgLi4uc2NyaXB0RGF0YS5wb2xpc2hlZCwgaG9vazogZS50YXJnZXQudmFsdWUgfSB9KSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyB1cHBlcmNhc2UgZm9udC1ib2xkIHRleHQtemluYy01MDAgdHJhY2tpbmctd2lkZXIiLCBjaGlsZHJlbjogIlZpcmFsIFRpdGxlIiB9KSwgX2pzeCgiaW5wdXQiLCB7IGNsYXNzTmFtZTogInctZnVsbCBiZy16aW5jLTkwMCBwLTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtd2hpdGUiLCB2YWx1ZTogc2NyaXB0RGF0YS5tZXRhZGF0YS50aXRsZXNbMF0sIG9uQ2hhbmdlOiAoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VGl0bGVzID0gWy4uLnNjcmlwdERhdGEubWV0YWRhdGEudGl0bGVzXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1RpdGxlc1swXSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2NyaXB0RGF0YSh7IC4uLnNjcmlwdERhdGEsIG1ldGFkYXRhOiB7IC4uLnNjcmlwdERhdGEubWV0YWRhdGEsIHRpdGxlczogbmV3VGl0bGVzIH0gfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgdXBwZXJjYXNlIGZvbnQtYm9sZCB0ZXh0LXppbmMtNTAwIHRyYWNraW5nLXdpZGVyIiwgY2hpbGRyZW46ICJTY3JpcHQgQm9keSIgfSksIF9qc3goInRleHRhcmVhIiwgeyBjbGFzc05hbWU6ICJ3LWZ1bGwgbXQtMiBiZy16aW5jLTkwMCBwLTMgcm91bmRlZCB0ZXh0LXppbmMtMzAwIG91dGxpbmUtbm9uZSBoLTYwIiwgdmFsdWU6IHNjcmlwdERhdGEucG9saXNoZWQuYm9keSwgb25DaGFuZ2U6IChlKSA9PiBzZXRTY3JpcHREYXRhKHsgLi4uc2NyaXB0RGF0YSwgcG9saXNoZWQ6IHsgLi4uc2NyaXB0RGF0YS5wb2xpc2hlZCwgYm9keTogZS50YXJnZXQudmFsdWUgfSB9KSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInAtNCBiZy16aW5jLTkwMCByb3VuZGVkLWxnIGJvcmRlci1sLTQgYm9yZGVyLWluZGlnby01MDAiLCBjaGlsZHJlbjogW19qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQteHMgdXBwZXJjYXNlIGZvbnQtYm9sZCB0ZXh0LWluZGlnby01MDAgdHJhY2tpbmctd2lkZXIiLCBjaGlsZHJlbjogIkNhbGxzIHRvIEFjdGlvbiIgfSksIF9qc3goInRleHRhcmVhIiwgeyBjbGFzc05hbWU6ICJ3LWZ1bGwgbXQtMiBiZy10cmFuc3BhcmVudCB0ZXh0LXNtIG91dGxpbmUtbm9uZSByZXNpemUtbm9uZSBoLTI0IiwgdmFsdWU6IHNjcmlwdERhdGEucG9saXNoZWQuY3Rhcy5qb2luKCdcbicpLCBvbkNoYW5nZTogKGUpID0+IHNldFNjcmlwdERhdGEoeyAuLi5zY3JpcHREYXRhLCBwb2xpc2hlZDogeyAuLi5zY3JpcHREYXRhLnBvbGlzaGVkLCBjdGFzOiBlLnRhcmdldC52YWx1ZS5zcGxpdCgnXG4nKSB9IH0pIH0pXSB9KV0gfSkpIH0pLCBzY3JpcHREYXRhICYmIChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiBoYW5kbGVHZW5lcmF0ZVN0b3J5Ym9hcmQsIGNsYXNzTmFtZTogInctZnVsbCBiZy16aW5jLTEwMCB0ZXh0LXppbmMtOTAwIGhvdmVyOmJnLXdoaXRlIHAtNCByb3VuZGVkLXhsIGZvbnQtYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMyB0cmFuc2l0aW9uLWFsbCIsIGNoaWxkcmVuOiBbIkdlbmVyYXRlIFN0b3J5Ym9hcmQgIiwgX2pzeChBcnJvd1JpZ2h0LCB7IGNsYXNzTmFtZTogInctNSBoLTUiIH0pXSB9KSldIH0pXSB9KSB9KSk7CiAgICBjb25zdCByZW5kZXJTdG9yeWJvYXJkID0gKCkgPT4gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogIm1heC13LTZ4bCBteC1hdXRvIHNwYWNlLXktNiBhbmltYXRlLWluIGZhZGUtaW4gZHVyYXRpb24tNTAwIiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciIsIGNoaWxkcmVuOiBfanN4KCJoMiIsIHsgY2xhc3NOYW1lOiAidGV4dC0yeGwgZm9udC1ib2xkIiwgY2hpbGRyZW46ICJTdG9yeWJvYXJkIFJldmlldyIgfSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLXppbmMtOTAwLzUwIGJvcmRlciBib3JkZXItemluYy04MDAgcC02IHJvdW5kZWQteGwgc3BhY2UteS00IiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtYi0yIiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogInctMTAgaC0xMCByb3VuZGVkLWxnIGJnLWluZGlnby01MDAvMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIiLCBjaGlsZHJlbjogX2pzeChNaWMsIHsgY2xhc3NOYW1lOiAidy01IGgtNSB0ZXh0LWluZGlnby00MDAiIH0pIH0pLCBfanN4cygiZGl2IiwgeyBjaGlsZHJlbjogW19qc3goImgzIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQiLCBjaGlsZHJlbjogIkF1ZGlvIEN1c3RvbWl6YXRpb24iIH0pLCBfanN4KCJwIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXNtIHRleHQtemluYy00MDAiLCBjaGlsZHJlbjogIlNlbGVjdCB0aGUgcGVyZmVjdCB2b2ljZSBmb3IgeW91ciBBLVJvbGwgbmFycmF0aW9uLiIgfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNCBnYXAtNiIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJzcGFjZS15LTQiLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2hpbGRyZW46IFtfanN4KCJsYWJlbCIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LWJvbGQgdGV4dC16aW5jLTUwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIiLCBjaGlsZHJlbjogIkdlbmRlciIgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCBnYXAtMiBtdC0yIiwgY2hpbGRyZW46IFsnQWxsJywgJ01hbGUnLCAnRmVtYWxlJ10ubWFwKGcgPT4gKF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0Vm9pY2VHZW5kZXIoZyksIGNsYXNzTmFtZTogYHB4LTMgcHktMiByb3VuZGVkLWxnIHRleHQtc20gdGV4dC1sZWZ0IHRyYW5zaXRpb24tY29sb3JzICR7dm9pY2VHZW5kZXIgPT09IGcgPyAnYmctemluYy04MDAgdGV4dC13aGl0ZSBib3JkZXIgYm9yZGVyLXppbmMtNzAwJyA6ICd0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtemluYy0zMDAnfWAsIGNoaWxkcmVuOiBnIH0sIGcpKSkgfSldIH0pIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogIm1kOmNvbC1zcGFuLTMgZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtMyIsIGNoaWxkcmVuOiBWT0lDRVMuZmlsdGVyKHYgPT4gdm9pY2VHZW5kZXIgPT09ICdBbGwnIHx8IHYuZ2VuZGVyID09PSB2b2ljZUdlbmRlcikubWFwKHZvaWNlID0+IChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRTZWxlY3RlZFZvaWNlKHZvaWNlKSwgY2xhc3NOYW1lOiBgcmVsYXRpdmUgcC00IHJvdW5kZWQteGwgYm9yZGVyIHRleHQtbGVmdCB0cmFuc2l0aW9uLWFsbCBob3ZlcjpzY2FsZS1bMS4wMl0gJHtzZWxlY3RlZFZvaWNlLm5hbWUgPT09IHZvaWNlLm5hbWUgPyAnYmctaW5kaWdvLTYwMCBib3JkZXItaW5kaWdvLTUwMCBzaGFkb3ctbGcgc2hhZG93LWluZGlnby05MDAvMjAnIDogJ2JnLXppbmMtOTUwIGJvcmRlci16aW5jLTgwMCBob3Zlcjpib3JkZXItemluYy03MDAnfWAsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItMiIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBgZm9udC1ib2xkICR7c2VsZWN0ZWRWb2ljZS5uYW1lID09PSB2b2ljZS5uYW1lID8gJ3RleHQtd2hpdGUnIDogJ3RleHQtemluYy0yMDAnfWAsIGNoaWxkcmVuOiB2b2ljZS5uYW1lIH0pLCBzZWxlY3RlZFZvaWNlLm5hbWUgPT09IHZvaWNlLm5hbWUgJiYgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LTIgaC0yIHJvdW5kZWQtZnVsbCBiZy13aGl0ZSBhbmltYXRlLXB1bHNlIiB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiBgdGV4dC14cyBtYi0xICR7c2VsZWN0ZWRWb2ljZS5uYW1lID09PSB2b2ljZS5uYW1lID8gJ3RleHQtaW5kaWdvLTIwMCcgOiAndGV4dC16aW5jLTQwMCd9YCwgY2hpbGRyZW46IHZvaWNlLnN0eWxlIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IGB0ZXh0LVsxMHB4XSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgZm9udC1zZW1pYm9sZCAke3NlbGVjdGVkVm9pY2UubmFtZSA9PT0gdm9pY2UubmFtZSA/ICd0ZXh0LWluZGlnby0yMDAnIDogJ3RleHQtemluYy02MDAnfWAsIGNoaWxkcmVuOiBbdm9pY2UuZ2VuZGVyLCAiIFx1MjAyMiAiLCB2b2ljZS5hY2NlbnRdIH0pXSB9LCB2b2ljZS5uYW1lKSkpIH0pXSB9KV0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNiIsIGNoaWxkcmVuOiBzY2VuZXMubWFwKChzY2VuZSwgaWR4KSA9PiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTcwMCByb3VuZGVkLXhsIG92ZXJmbG93LWhpZGRlbiBncm91cCBob3Zlcjpib3JkZXItemluYy02MDAgdHJhbnNpdGlvbi1jb2xvcnMiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImgtNCBiZy16aW5jLTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBweC0yIGp1c3RpZnktYmV0d2VlbiIsIGNoaWxkcmVuOiBbX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtWzEwcHhdIGZvbnQtYm9sZCB0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46IFsiU0NFTkUgIiwgaWR4ICsgMV0gfSksIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogYHRleHQtWzEwcHhdIGZvbnQtYm9sZCBweC0xIHJvdW5kZWQgJHtzY2VuZS50eXBlID09PSAnQS1ST0xMJyA/ICdiZy1pbmRpZ28tOTAwIHRleHQtaW5kaWdvLTMwMCcgOiAnYmctZW1lcmFsZC05MDAgdGV4dC1lbWVyYWxkLTMwMCd9YCwgY2hpbGRyZW46IHNjZW5lLnR5cGUgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJhc3BlY3QtdmlkZW8gYmctYmxhY2sgcmVsYXRpdmUgZ3JvdXAvaW1hZ2UiLCBjaGlsZHJlbjogW3NjZW5lLmltYWdlRGF0YSA/IChfanN4KCJpbWciLCB7IHNyYzogc2NlbmUuaW1hZ2VEYXRhLCBjbGFzc05hbWU6ICJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciIgfSkpIDogKF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAidy1mdWxsIGgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXppbmMtNzAwIGJnLXppbmMtOTUwIiwgY2hpbGRyZW46IF9qc3goSW1hZ2VJY29uLCB7IGNsYXNzTmFtZTogInctOCBoLTggb3BhY2l0eS0yMCIgfSkgfSkpLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBpbnNldC0wIGJnLWJsYWNrLzUwIG9wYWNpdHktMCBncm91cC1ob3Zlci9pbWFnZTpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIiLCBjaGlsZHJlbjogW3NjZW5lLnR5cGUgPT09ICdCLVJPTEwnID8gKF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZUdlbmVyYXRlU2NlbmVJbWFnZShzY2VuZS5pZCksIGRpc2FibGVkOiBnZW5lcmF0aW5nSW1hZ2VzLmhhcyhzY2VuZS5pZCkgfHwgIXNjZW5lLmltYWdlUHJvbXB0LCBjbGFzc05hbWU6ICJiZy13aGl0ZSB0ZXh0LWJsYWNrIHB4LTMgcHktMS41IHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZGlzYWJsZWQ6b3BhY2l0eS01MCIsIGNoaWxkcmVuOiBbZ2VuZXJhdGluZ0ltYWdlcy5oYXMoc2NlbmUuaWQpID8gX2pzeChMb2FkZXIyLCB7IGNsYXNzTmFtZTogInctMyBoLTMgYW5pbWF0ZS1zcGluIiB9KSA6IF9qc3goUmVmcmVzaEN3LCB7IGNsYXNzTmFtZTogInctMyBoLTMiIH0pLCBzY2VuZS5pbWFnZURhdGEgPyAnUmVnZW5lcmF0ZSBBSScgOiAnR2VuZXJhdGUgQUknXSB9KSkgOiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbX2pzeHMoImxhYmVsIiwgeyBjbGFzc05hbWU6ICJjdXJzb3ItcG9pbnRlciBiZy13aGl0ZSB0ZXh0LWJsYWNrIHB4LTMgcHktMS41IHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0iLCBjaGlsZHJlbjogW19qc3goVXBsb2FkLCB7IGNsYXNzTmFtZTogInctMyBoLTMiIH0pLCAiIEN1c3RvbSBCRyIsIF9qc3goImlucHV0IiwgeyB0eXBlOiAiZmlsZSIsIGFjY2VwdDogImltYWdlLyoiLCBjbGFzc05hbWU6ICJoaWRkZW4iLCBvbkNoYW5nZTogKGUpID0+IGhhbmRsZVVwbG9hZEltYWdlKGUsIHNjZW5lLmlkKSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInJlbGF0aXZlIGdyb3VwL3RlbXBsYXRlcyIsIGNoaWxkcmVuOiBbX2pzeHMoImJ1dHRvbiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy03MDAgdGV4dC13aGl0ZSBweC0zIHB5LTEuNSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LWJvbGQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgaG92ZXI6YmctemluYy02MDAiLCBjaGlsZHJlbjogW19qc3goTGF5b3V0VGVtcGxhdGUsIHsgY2xhc3NOYW1lOiAidy0zIGgtMyIgfSksICIgVGVtcGxhdGUiXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSB0b3AtZnVsbCBsZWZ0LTAgbXQtMiBiZy16aW5jLTkwMCBib3JkZXIgYm9yZGVyLXppbmMtNzAwIHAtMiByb3VuZGVkLWxnIGdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTIgdy00OCBoaWRkZW4gZ3JvdXAtaG92ZXIvdGVtcGxhdGVzOmdyaWQgei0yMCBzaGFkb3cteGwiLCBjaGlsZHJlbjogU1RPQ0tfVEVNUExBVEVTLm1hcCh0ID0+IChfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZUFwcGx5VGVtcGxhdGUodC5jb2xvcnMsIHNjZW5lLmlkKSwgY2xhc3NOYW1lOiAidy1mdWxsIGgtOCByb3VuZGVkIGJvcmRlciBib3JkZXItd2hpdGUvMTAgaG92ZXI6Ym9yZGVyLXdoaXRlIHRyYW5zaXRpb24tY29sb3JzIiwgc3R5bGU6IHsgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCh0byBib3R0b20gcmlnaHQsICR7dC5jb2xvcnNbMF19LCAke3QuY29sb3JzWzFdIHx8IHQuY29sb3JzWzBdfSlgIH0sIHRpdGxlOiB0Lm5hbWUgfSwgdC5uYW1lKSkpIH0pXSB9KV0gfSkpLCBzY2VuZS50eXBlID09PSAnQi1ST0xMJyAmJiAoX2pzeHMoImxhYmVsIiwgeyBjbGFzc05hbWU6ICJjdXJzb3ItcG9pbnRlciBiZy16aW5jLTgwMCB0ZXh0LXdoaXRlIHB4LTMgcHktMS41IHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi10cmFuc2Zvcm0iLCBjaGlsZHJlbjogW19qc3goVXBsb2FkLCB7IGNsYXNzTmFtZTogInctMyBoLTMiIH0pLCAiIFVwbG9hZCIsIF9qc3goImlucHV0IiwgeyB0eXBlOiAiZmlsZSIsIGFjY2VwdDogImltYWdlLyoiLCBjbGFzc05hbWU6ICJoaWRkZW4iLCBvbkNoYW5nZTogKGUpID0+IGhhbmRsZVVwbG9hZEltYWdlKGUsIHNjZW5lLmlkKSB9KV0gfSkpXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInAtNCBzcGFjZS15LTQiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMSIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIiwgY2hpbGRyZW46IFtfanN4KCJsYWJlbCIsIHsgY2xhc3NOYW1lOiAidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtemluYy01MDAiLCBjaGlsZHJlbjogIlNQT0tFTiBBVURJTyIgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIiwgY2hpbGRyZW46IFtfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGhhbmRsZVJlZ2VuZXJhdGVBdWRpbyhzY2VuZS5pZCksIHRpdGxlOiAiUmVnZW5lcmF0ZSBBdWRpbyIsIGNsYXNzTmFtZTogInAtMSBob3ZlcjpiZy16aW5jLTgwMCByb3VuZGVkIHRleHQtemluYy00MDAgaG92ZXI6dGV4dC13aGl0ZSIsIGNoaWxkcmVuOiBfanN4KFJlZnJlc2hDdywgeyBjbGFzc05hbWU6ICJ3LTMgaC0zIiB9KSB9KSwgX2pzeHMoImxhYmVsIiwgeyBjbGFzc05hbWU6ICJwLTEgaG92ZXI6YmctemluYy04MDAgcm91bmRlZCB0ZXh0LXppbmMtNDAwIGhvdmVyOnRleHQtd2hpdGUgY3Vyc29yLXBvaW50ZXIiLCB0aXRsZTogIlVwbG9hZCBBdWRpbyIsIGNoaWxkcmVuOiBbX2pzeChVcGxvYWQsIHsgY2xhc3NOYW1lOiAidy0zIGgtMyIgfSksIF9qc3goImlucHV0IiwgeyB0eXBlOiAiZmlsZSIsIGFjY2VwdDogImF1ZGlvLyoiLCBjbGFzc05hbWU6ICJoaWRkZW4iLCBvbkNoYW5nZTogKGUpID0+IGhhbmRsZVVwbG9hZEF1ZGlvKGUsIHNjZW5lLmlkKSB9KV0gfSksIHNjZW5lLmF1ZGlvRGF0YSAmJiBfanN4KE11c2ljLCB7IGNsYXNzTmFtZTogInctMyBoLTMgdGV4dC1lbWVyYWxkLTUwMCIgfSldIH0pXSB9KSwgX2pzeCgidGV4dGFyZWEiLCB7IGNsYXNzTmFtZTogInctZnVsbCBiZy16aW5jLTk1MCBwLTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtemluYy0zMDAgaC0yMCByZXNpemUtbm9uZSBvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0xIGZvY3VzOnJpbmctaW5kaWdvLTUwMCIsIHZhbHVlOiBzY2VuZS5zcG9rZW5UZXh0LCBvbkNoYW5nZTogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5zY2VuZXNdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2lkeF0uc3Bva2VuVGV4dCA9IGUudGFyZ2V0LnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTY2VuZXModXBkYXRlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KV0gfSksIHNjZW5lLnR5cGUgPT09ICdBLVJPTEwnID8gKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMSIsIGNoaWxkcmVuOiBbX2pzeCgibGFiZWwiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJWSVNVQUwgVEVYVCIgfSksIF9qc3goInRleHRhcmVhIiwgeyBjbGFzc05hbWU6ICJ3LWZ1bGwgYmctemluYy05NTAgcC0yIHJvdW5kZWQgdGV4dC1zbSB0ZXh0LXppbmMtMzAwIGgtMjAgcmVzaXplLW5vbmUgb3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLWluZGlnby01MDAiLCB2YWx1ZTogc2NlbmUudmlzdWFsU3VtbWFyeS5qb2luKCdcbicpLCBvbkNoYW5nZTogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5zY2VuZXNdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2lkeF0udmlzdWFsU3VtbWFyeSA9IGUudGFyZ2V0LnZhbHVlLnNwbGl0KCdcbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTY2VuZXModXBkYXRlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KV0gfSkpIDogKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMSIsIGNoaWxkcmVuOiBbX2pzeCgibGFiZWwiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1zZW1pYm9sZCB0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJJTUFHRSBQUk9NUFQiIH0pLCBfanN4KCJ0ZXh0YXJlYSIsIHsgY2xhc3NOYW1lOiAidy1mdWxsIGJnLXppbmMtOTUwIHAtMiByb3VuZGVkIHRleHQtc20gdGV4dC16aW5jLTMwMCBoLTIwIHJlc2l6ZS1ub25lIG91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTEgZm9jdXM6cmluZy1pbmRpZ28tNTAwIiwgdmFsdWU6IHNjZW5lLmltYWdlUHJvbXB0LCBvbkNoYW5nZTogKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5zY2VuZXNdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2lkeF0uaW1hZ2VQcm9tcHQgPSBlLnRhcmdldC52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2NlbmVzKHVwZGF0ZWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSldIH0pKV0gfSldIH0sIHNjZW5lLmlkKSkpIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgganVzdGlmeS1lbmQgcHQtNCBwYi04IiwgY2hpbGRyZW46IF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZUFzc2V0UHJvZHVjdGlvbiwgY2xhc3NOYW1lOiAiYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby02MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLWluZGlnby01MDAgaG92ZXI6dG8tcHVycGxlLTUwMCB0ZXh0LXdoaXRlIHB4LTggcHktNCByb3VuZGVkLXhsIGZvbnQtYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBzaGFkb3ctbGcgc2hhZG93LWluZGlnby01MDAvMjAgdHJhbnNpdGlvbi1hbGwgaG92ZXI6c2NhbGUtMTA1IiwgY2hpbGRyZW46IFtfanN4KE1vbml0b3JQbGF5LCB7IGNsYXNzTmFtZTogInctNSBoLTUiIH0pLCAiR2VuZXJhdGUgU3R1ZGlvIEFzc2V0cyJdIH0pIH0pXSB9KSk7CiAgICBjb25zdCByZW5kZXJFeHBvcnQgPSAoKSA9PiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibWF4LXctNHhsIG14LWF1dG8gc3BhY2UteS04IGFuaW1hdGUtaW4gZmFkZS1pbiBkdXJhdGlvbi01MDAiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHNwYWNlLXktNCIsIGNoaWxkcmVuOiBbX2pzeCgiaDIiLCB7IGNsYXNzTmFtZTogInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWNlbnRlciIsIGNoaWxkcmVuOiAiU3R1ZGlvIFByZXZpZXciIH0pLCBfanN4KCJwIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNDAwIiwgY2hpbGRyZW46ICJSZXZpZXcgeW91ciBmaW5hbCB2aWRlby4gRXhwb3J0IHRleHQgYW5kIHZpZGVvIHdoZW4gcmVhZHkuIiB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInctZnVsbCIsIGNoaWxkcmVuOiBbX2pzeChWaWRlb1JlbmRlcmVyLCB7IHJlZjogcmVuZGVyZXJSZWYsIHNjZW5lczogc2NlbmVzLCBwcm9maWxlOiBwcm9maWxlLCBpc1BsYXlpbmc6IGlzUGxheWluZywgb25FbmRlZDogaGFuZGxlUGxheWJhY2tFbmRlZCwgb25UaW1lVXBkYXRlOiBzZXRBY3RpdmVTY2VuZUlkIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJtdC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy16aW5jLTkwMCBwLTQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLXppbmMtODAwIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRJc1BsYXlpbmcoIWlzUGxheWluZyksIGNsYXNzTmFtZTogInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgYmctd2hpdGUgdGV4dC1ibGFjayBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBob3ZlcjpiZy16aW5jLTIwMCB0cmFuc2l0aW9uLWNvbG9ycyIsIGNoaWxkcmVuOiBpc1BsYXlpbmcgPyBfanN4KFBhdXNlLCB7IGNsYXNzTmFtZTogImZpbGwtY3VycmVudCIgfSkgOiBfanN4KFBsYXksIHsgY2xhc3NOYW1lOiAiZmlsbC1jdXJyZW50IG1sLTEiIH0pIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXNtIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNDAwIiwgY2hpbGRyZW46ICJDdXJyZW50IFNjZW5lOiAiIH0pLCBfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAiZm9udC1tb25vIHRleHQtaW5kaWdvLTQwMCIsIGNoaWxkcmVuOiBbc2NlbmVzLmZpbmRJbmRleChzID0+IHMuaWQgPT09IGFjdGl2ZVNjZW5lSWQpICsgMSwgIiAvICIsIHNjZW5lcy5sZW5ndGhdIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZ2FwLTMiLCBjaGlsZHJlbjogW19qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZUV4cG9ydE1hcmtkb3duLCBjbGFzc05hbWU6ICJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctemluYy04MDAgaG92ZXI6YmctemluYy03MDAgcm91bmRlZC1sZyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzIiwgY2hpbGRyZW46IFtfanN4KERvd25sb2FkLCB7IGNsYXNzTmFtZTogInctNCBoLTQiIH0pLCAiIFNjcmlwdCAoTUQpIl0gfSksIF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6IGhhbmRsZUV4cG9ydFZpZGVvLCBkaXNhYmxlZDogbG9hZGluZywgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yIGJnLWluZGlnby02MDAgaG92ZXI6YmctaW5kaWdvLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwIiwgY2hpbGRyZW46IFtsb2FkaW5nID8gX2pzeChMb2FkZXIyLCB7IGNsYXNzTmFtZTogInctNCBoLTQgYW5pbWF0ZS1zcGluIiB9KSA6IF9qc3goRG93bmxvYWQsIHsgY2xhc3NOYW1lOiAidy00IGgtNCIgfSksIGxvYWRpbmcgPyAnUmVuZGVyaW5nLi4uJyA6ICdFeHBvcnQgVmlkZW8nXSB9KV0gfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAvNTAgcm91bmRlZC14bCBwLTYgYm9yZGVyIGJvcmRlci16aW5jLTgwMC81MCIsIGNoaWxkcmVuOiBbX2pzeCgiaDMiLCB7IGNsYXNzTmFtZTogInRleHQtc20gZm9udC1ib2xkIHRleHQtemluYy01MDAgdXBwZXJjYXNlIG1iLTQiLCBjaGlsZHJlbjogIlNjZW5lIEJyZWFrZG93biIgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAic3BhY2UteS0yIG1heC1oLTYwIG92ZXJmbG93LXktYXV0byBjdXN0b20tc2Nyb2xsYmFyIiwgY2hpbGRyZW46IHNjZW5lcy5tYXAoKHMsIGkpID0+IChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6IGBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBwLTMgcm91bmRlZC1sZyB0ZXh0LXNtICR7cy5pZCA9PT0gYWN0aXZlU2NlbmVJZCA/ICdiZy1pbmRpZ28tOTAwLzMwIGJvcmRlciBib3JkZXItaW5kaWdvLTUwMC8zMCcgOiAnYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCd9YCwgY2hpbGRyZW46IFtfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAiZm9udC1tb25vIHRleHQtemluYy01MDAgdy02IiwgY2hpbGRyZW46IFtpICsgMSwgIi4iXSB9KSwgcy5pbWFnZURhdGEgPyBfanN4KCJpbWciLCB7IHNyYzogcy5pbWFnZURhdGEsIGNsYXNzTmFtZTogInctMTIgaC04IG9iamVjdC1jb3ZlciByb3VuZGVkIiB9KSA6IF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAidy0xMiBoLTggYmctemluYy04MDAgcm91bmRlZCIgfSksIF9qc3goInAiLCB7IGNsYXNzTmFtZTogInRydW5jYXRlIHRleHQtemluYy0zMDAgZmxleC0xIiwgY2hpbGRyZW46IHMuc3Bva2VuVGV4dCB9KSwgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1bMTBweF0gZm9udC1ib2xkIHB4LTEuNSBweS0wLjUgcm91bmRlZCBiZy16aW5jLTgwMCB0ZXh0LXppbmMtNDAwIiwgY2hpbGRyZW46IHMudHlwZSB9KV0gfSwgcy5pZCkpKSB9KV0gfSldIH0pKTsKICAgIHJldHVybiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibWluLWgtc2NyZWVuIGJnLXppbmMtOTUwIHRleHQtd2hpdGUgZm9udC1zYW5zIHBiLTIwIiwgY2hpbGRyZW46IFtfanN4KCJuYXYiLCB7IGNsYXNzTmFtZTogImJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBiZy16aW5jLTk1MC84MCBiYWNrZHJvcC1ibHVyLW1kIHN0aWNreSB0b3AtMCB6LTQwIiwgY2hpbGRyZW46IF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogIm1heC13LTd4bCBteC1hdXRvIHB4LTYgaC0xNiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LTggaC04IGJnLWluZGlnby02MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciIsIGNoaWxkcmVuOiBfanN4KFdhbmQyLCB7IGNsYXNzTmFtZTogInctNSBoLTUgdGV4dC13aGl0ZSIgfSkgfSksIF9qc3goImgxIiwgeyBjbGFzc05hbWU6ICJmb250LWJvbGQgdGV4dC14bCB0cmFja2luZy10aWdodCIsIGNoaWxkcmVuOiAiVHViZVNtaXRoIEFJIiB9KV0gfSkgfSksIF9qc3goU3RlcEluZGljYXRvciwgeyBjdXJyZW50U3RlcDogc3RlcCB9KSwgX2pzeHMoIm1haW4iLCB7IGNsYXNzTmFtZTogIm1heC13LTd4bCBteC1hdXRvIHB4LTYgcHktOCIsIGNoaWxkcmVuOiBbc3RlcCA9PT0gJ1BST0ZJTEUnICYmIHJlbmRlclByb2ZpbGUoKSwgc3RlcCA9PT0gJ1NDUklQVCcgJiYgcmVuZGVyU2NyaXB0KCksIHN0ZXAgPT09ICdTVE9SWUJPQVJEJyAmJiByZW5kZXJTdG9yeWJvYXJkKCksIHN0ZXAgPT09ICdQUk9EVUNUSU9OJyAmJiAoX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiaC1bNjB2aF0gZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteS02IGFuaW1hdGUtcHVsc2UiLCBjaGlsZHJlbjogW19qc3goTG9hZGVyMiwgeyBjbGFzc05hbWU6ICJ3LTE2IGgtMTYgdGV4dC1pbmRpZ28tNTAwIGFuaW1hdGUtc3BpbiIgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInRleHQtY2VudGVyIHNwYWNlLXktMiIsIGNoaWxkcmVuOiBbX2pzeCgiaDMiLCB7IGNsYXNzTmFtZTogInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIiwgY2hpbGRyZW46ICJHZW5lcmF0aW5nIFN0dWRpbyBBc3NldHMiIH0pLCBfanN4KCJwIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNDAwIiwgY2hpbGRyZW46IGxvYWRpbmdNc2cgfSldIH0pXSB9KSksIHN0ZXAgPT09ICdFWFBPUlQnICYmIHJlbmRlckV4cG9ydCgpXSB9KV0gfSkpOwp9OwpleHBvcnQgZGVmYXVsdCBBcHA7Cg=="}}</script>
<script type="module">
  const geminiUrl = window.location.origin + '/api-proxy';

  window.API_KEY = 'UNUSED_PLACEHOLDER_FOR_API_KEY';
  window.GEMINI_API_KEY = 'UNUSED_PLACEHOLDER_FOR_API_KEY';
  window.process = window.process || {};
  window.process.env = window.process.env || {};
  window.process.env.API_KEY = window.API_KEY;
  window.process.env.GEMINI_API_KEY = window.GEMINI_API_KEY;
</script>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TubeSmith AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom scrollbar for a sleeker look */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #18181b; 
      }
      ::-webkit-scrollbar-thumb {
        background: #3f3f46; 
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #52525b; 
      }
    </style>
  </head>
  <body class="bg-zinc-950 text-zinc-100 antialiased selection:bg-indigo-500 selection:text-white">
    <div id="root"></div>
  </body>
</html>
<script type="module">import '@/index';</script>
